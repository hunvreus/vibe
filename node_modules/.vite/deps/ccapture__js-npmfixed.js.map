{
  "version": 3,
  "sources": ["../../ccapture.js-npmfixed/src/tar.js", "../../ccapture.js-npmfixed/src/download.js", "../../ccapture.js-npmfixed/src/gif.js", "browser-external:fs", "../../ccapture.js-npmfixed/src/webm-writer-0.2.0.js", "../../ccapture.js-npmfixed/src/CCapture.js"],
  "sourcesContent": ["(function () {\n\t\"use strict\";\n\n\tvar lookup = [\n\t\t\t'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H',\n\t\t\t'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P',\n\t\t\t'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X',\n\t\t\t'Y', 'Z', 'a', 'b', 'c', 'd', 'e', 'f',\n\t\t\t'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n',\n\t\t\t'o', 'p', 'q', 'r', 's', 't', 'u', 'v',\n\t\t\t'w', 'x', 'y', 'z', '0', '1', '2', '3',\n\t\t\t'4', '5', '6', '7', '8', '9', '+', '/'\n\t\t];\n\tfunction clean(length) {\n\t\tvar i, buffer = new Uint8Array(length);\n\t\tfor (i = 0; i < length; i += 1) {\n\t\t\tbuffer[i] = 0;\n\t\t}\n\t\treturn buffer;\n\t}\n\n\tfunction extend(orig, length, addLength, multipleOf) {\n\t\tvar newSize = length + addLength,\n\t\t\tbuffer = clean((parseInt(newSize / multipleOf) + 1) * multipleOf);\n\n\t\tbuffer.set(orig);\n\n\t\treturn buffer;\n\t}\n\n\tfunction pad(num, bytes, base) {\n\t\tnum = num.toString(base || 8);\n\t\treturn \"000000000000\".substr(num.length + 12 - bytes) + num;\n\t}\t\n\t\n\tfunction stringToUint8 (input, out, offset) {\n\t\tvar i, length;\n\n\t\tout = out || clean(input.length);\n\n\t\toffset = offset || 0;\n\t\tfor (i = 0, length = input.length; i < length; i += 1) {\n\t\t\tout[offset] = input.charCodeAt(i);\n\t\t\toffset += 1;\n\t\t}\n\n\t\treturn out;\n\t}\n\n\tfunction uint8ToBase64(uint8) {\n\t\tvar i,\n\t\t\textraBytes = uint8.length % 3, // if we have 1 byte left, pad 2 bytes\n\t\t\toutput = \"\",\n\t\t\ttemp, length;\n\n\t\tfunction tripletToBase64 (num) {\n\t\t\treturn lookup[num >> 18 & 0x3F] + lookup[num >> 12 & 0x3F] + lookup[num >> 6 & 0x3F] + lookup[num & 0x3F];\n\t\t};\n\n\t\t// go through the array every three bytes, we'll deal with trailing stuff later\n\t\tfor (i = 0, length = uint8.length - extraBytes; i < length; i += 3) {\n\t\t\ttemp = (uint8[i] << 16) + (uint8[i + 1] << 8) + (uint8[i + 2]);\n\t\t\toutput += tripletToBase64(temp);\n\t\t}\n\n\t\t// this prevents an ERR_INVALID_URL in Chrome (Firefox okay)\n\t\tswitch (output.length % 4) {\n\t\t\tcase 1:\n\t\t\t\toutput += '=';\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\toutput += '==';\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn output;\n\t}\n\n\twindow.utils = {}\n\twindow.utils.clean = clean;\n\twindow.utils.pad = pad;\n\twindow.utils.extend = extend;\n\twindow.utils.stringToUint8 = stringToUint8;\n\twindow.utils.uint8ToBase64 = uint8ToBase64;\n}());\n\n(function () {\n\t\"use strict\";\n\t\n/*\nstruct posix_header {             // byte offset\n\tchar name[100];               //   0\n\tchar mode[8];                 // 100\n\tchar uid[8];                  // 108\n\tchar gid[8];                  // 116\n\tchar size[12];                // 124\n\tchar mtime[12];               // 136\n\tchar chksum[8];               // 148\n\tchar typeflag;                // 156\n\tchar linkname[100];           // 157\n\tchar magic[6];                // 257\n\tchar version[2];              // 263\n\tchar uname[32];               // 265\n\tchar gname[32];               // 297\n\tchar devmajor[8];             // 329\n\tchar devminor[8];             // 337\n\tchar prefix[155];             // 345\n                                  // 500\n};\n*/\n\n\tvar utils = window.utils,\n\t\theaderFormat;\n\t\n\theaderFormat = [\n\t\t{\n\t\t\t'field': 'fileName',\n\t\t\t'length': 100\n\t\t},\n\t\t{\n\t\t\t'field': 'fileMode',\n\t\t\t'length': 8\n\t\t},\n\t\t{\n\t\t\t'field': 'uid',\n\t\t\t'length': 8\n\t\t},\n\t\t{\n\t\t\t'field': 'gid',\n\t\t\t'length': 8\n\t\t},\n\t\t{\n\t\t\t'field': 'fileSize',\n\t\t\t'length': 12\n\t\t},\n\t\t{\n\t\t\t'field': 'mtime',\n\t\t\t'length': 12\n\t\t},\n\t\t{\n\t\t\t'field': 'checksum',\n\t\t\t'length': 8\n\t\t},\n\t\t{\n\t\t\t'field': 'type',\n\t\t\t'length': 1\n\t\t},\n\t\t{\n\t\t\t'field': 'linkName',\n\t\t\t'length': 100\n\t\t},\n\t\t{\n\t\t\t'field': 'ustar',\n\t\t\t'length': 8\n\t\t},\n\t\t{\n\t\t\t'field': 'owner',\n\t\t\t'length': 32\n\t\t},\n\t\t{\n\t\t\t'field': 'group',\n\t\t\t'length': 32\n\t\t},\n\t\t{\n\t\t\t'field': 'majorNumber',\n\t\t\t'length': 8\n\t\t},\n\t\t{\n\t\t\t'field': 'minorNumber',\n\t\t\t'length': 8\n\t\t},\n\t\t{\n\t\t\t'field': 'filenamePrefix',\n\t\t\t'length': 155\n\t\t},\n\t\t{\n\t\t\t'field': 'padding',\n\t\t\t'length': 12\n\t\t}\n\t];\n\n\tfunction formatHeader(data, cb) {\n\t\tvar buffer = utils.clean(512),\n\t\t\toffset = 0;\n\n\t\theaderFormat.forEach(function (value) {\n\t\t\tvar str = data[value.field] || \"\",\n\t\t\t\ti, length;\n\n\t\t\tfor (i = 0, length = str.length; i < length; i += 1) {\n\t\t\t\tbuffer[offset] = str.charCodeAt(i);\n\t\t\t\toffset += 1;\n\t\t\t}\n\n\t\t\toffset += value.length - i; // space it out with nulls\n\t\t});\n\n\t\tif (typeof cb === 'function') {\n\t\t\treturn cb(buffer, offset);\n\t\t}\n\t\treturn buffer;\n\t}\n\t\n\twindow.header = {}\n\twindow.header.structure = headerFormat;\n\twindow.header.format = formatHeader;\n}());\n\n(function () {\n\t\"use strict\";\n\n\tvar header = window.header,\n\t\tutils = window.utils,\n\t\trecordSize = 512,\n\t\tblockSize;\n\t\n\tfunction Tar(recordsPerBlock) {\n\t\tthis.written = 0;\n\t\tblockSize = (recordsPerBlock || 20) * recordSize;\n\t\tthis.out = utils.clean(blockSize);\n\t\tthis.blocks = [];\n\t\tthis.length = 0;\n\t}\n\n\tTar.prototype.append = function (filepath, input, opts, callback) {\n\t\tvar data,\n\t\t\tchecksum,\n\t\t\tmode,\n\t\t\tmtime,\n\t\t\tuid,\n\t\t\tgid,\n\t\t\theaderArr;\n\n\t\tif (typeof input === 'string') {\n\t\t\tinput = utils.stringToUint8(input);\n\t\t} else if (input.constructor !== Uint8Array.prototype.constructor) {\n\t\t\tthrow 'Invalid input type. You gave me: ' + input.constructor.toString().match(/function\\s*([$A-Za-z_][0-9A-Za-z_]*)\\s*\\(/)[1];\n\t\t}\n\n\t\tif (typeof opts === 'function') {\n\t\t\tcallback = opts;\n\t\t\topts = {};\n\t\t}\n\n\t\topts = opts || {};\n\n\t\tmode = opts.mode || parseInt('777', 8) & 0xfff;\n\t\tmtime = opts.mtime || Math.floor(+new Date() / 1000);\n\t\tuid = opts.uid || 0;\n\t\tgid = opts.gid || 0;\n\n\t\tdata = {\n\t\t\tfileName: filepath,\n\t\t\tfileMode: utils.pad(mode, 7),\n\t\t\tuid: utils.pad(uid, 7),\n\t\t\tgid: utils.pad(gid, 7),\n\t\t\tfileSize: utils.pad(input.length, 11),\n\t\t\tmtime: utils.pad(mtime, 11),\n\t\t\tchecksum: '        ',\n\t\t\ttype: '0', // just a file\n\t\t\tustar: 'ustar  ',\n\t\t\towner: opts.owner || '',\n\t\t\tgroup: opts.group || ''\n\t\t};\n\n\t\t// calculate the checksum\n\t\tchecksum = 0;\n\t\tObject.keys(data).forEach(function (key) {\n\t\t\tvar i, value = data[key], length;\n\n\t\t\tfor (i = 0, length = value.length; i < length; i += 1) {\n\t\t\t\tchecksum += value.charCodeAt(i);\n\t\t\t}\n\t\t});\n\n\t\tdata.checksum = utils.pad(checksum, 6) + \"\\u0000 \";\n\n\t\theaderArr = header.format(data);\n\n\t\tvar headerLength = Math.ceil( headerArr.length / recordSize ) * recordSize; \n\t\tvar inputLength = Math.ceil( input.length / recordSize ) * recordSize;\n\n\t\tthis.blocks.push( { header: headerArr, input: input, headerLength: headerLength, inputLength: inputLength } );\n\n\t};\n\n\tTar.prototype.save = function() {\n\n\t\tvar buffers = [];\n\t\tvar chunks = [];\n\t\tvar length = 0;\n\t\tvar max = Math.pow( 2, 20 );\n\n\t\tvar chunk = [];\n\t\tthis.blocks.forEach( function( b ) {\n\t\t\tif( length + b.headerLength + b.inputLength > max ) {\n\t\t\t\tchunks.push( { blocks: chunk, length: length } );\n\t\t\t\tchunk = [];\n\t\t\t\tlength = 0;\n\t\t\t}\n\t\t\tchunk.push( b );\n\t\t\tlength += b.headerLength + b.inputLength;\n\t\t} );\n\t\tchunks.push( { blocks: chunk, length: length } );\n\n\t\tchunks.forEach( function( c ) {\n\n\t\t\tvar buffer = new Uint8Array( c.length );\n\t\t\tvar written = 0;\n\t\t\tc.blocks.forEach( function( b ) {\n\t\t\t\tbuffer.set( b.header, written );\n\t\t\t\twritten += b.headerLength;\n\t\t\t\tbuffer.set( b.input, written );\n\t\t\t\twritten += b.inputLength;\n\t\t\t} );\n\t\t\tbuffers.push( buffer );\n\n\t\t} );\n\n\t\tbuffers.push( new Uint8Array( 2 * recordSize ) );\n\n\t\treturn new Blob( buffers, { type: 'octet/stream' } );\n\t\t\n\t};\n\n\tTar.prototype.clear = function () {\n\t\tthis.written = 0;\n\t\tthis.out = utils.clean(blockSize);\n\t};\n\n\tif (typeof module !== 'undefined' && typeof module.exports !== 'undefined') {\n\t\tmodule.exports = Tar;\n\t} else {\n\t\twindow.Tar = Tar;\n\t}\n}());\n", "//download.js v4.21, by dandavis; 2008-2018. [MIT] see http://danml.com/download.html for tests/usage\n// v1 landed a FF+Chrome compatible way of downloading strings to local un-named files, upgraded to use a hidden frame and optional mime\n// v2 added named files via a[download], msSaveBlob, IE (10+) support, and window.URL support for larger+faster saves than dataURLs\n// v3 added dataURL and Blob Input, bind-toggle arity, and legacy dataURL fallback was improved with force-download mime and base64 support. 3.1 improved safari handling.\n// v4 adds AMD/UMD, commonJS, and plain browser support\n// v4.1 adds url download capability via solo URL argument (same domain/CORS only)\n// v4.2 adds semantic variable names, long (over 2MB) dataURL support, and hidden by default temp anchors\n// https://github.com/rndme/download\n\n(function (root, factory) {\n\tif (typeof define === 'function' && define.amd) {\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine([], factory);\n\t} else if (typeof exports === 'object') {\n\t\t// Node. Does not work with strict CommonJS, but\n\t\t// only CommonJS-like environments that support module.exports,\n\t\t// like Node.\n\t\tmodule.exports = factory();\n\t} else {\n\t\t// Browser globals (root is window)\n\t\troot.download = factory();\n\t}\n}(this, function () {\n\n\treturn function download(data, strFileName, strMimeType) {\n\n\t\tvar self = window, // this script is only for browsers anyway...\n\t\t\tdefaultMime = \"application/octet-stream\", // this default mime also triggers iframe downloads\n\t\t\tmimeType = strMimeType || defaultMime,\n\t\t\tpayload = data,\n\t\t\turl = !strFileName && !strMimeType && payload,\n\t\t\tanchor = document.createElement(\"a\"),\n\t\t\ttoString = function(a){return String(a);},\n\t\t\tmyBlob = (self.Blob || self.MozBlob || self.WebKitBlob || toString),\n\t\t\tfileName = strFileName || \"download\",\n\t\t\tblob,\n\t\t\treader;\n\t\tmyBlob= myBlob.call ? myBlob.bind(self) : Blob ;\n\n\t\tif(String(this)===\"true\"){ //reverse arguments, allowing download.bind(true, \"text/xml\", \"export.xml\") to act as a callback\n\t\t\tpayload=[payload, mimeType];\n\t\t\tmimeType=payload[0];\n\t\t\tpayload=payload[1];\n\t\t}\n\n\n\t\tif(url && url.length< 2048){ // if no filename and no mime, assume a url was passed as the only argument\n\t\t\tfileName = url.split(\"/\").pop().split(\"?\")[0];\n\t\t\tanchor.href = url; // assign href prop to temp anchor\n\t\t\tif(anchor.href.indexOf(url) !== -1){ // if the browser determines that it's a potentially valid url path:\n\t\t\t\tvar ajax=new XMLHttpRequest();\n\t\t\t\tajax.open( \"GET\", url, true);\n\t\t\t\tajax.responseType = 'blob';\n\t\t\t\tajax.onload= function(e){\n\t\t\t\t\tdownload(e.target.response, fileName, defaultMime);\n\t\t\t\t};\n\t\t\t\tsetTimeout(function(){ ajax.send();}, 0); // allows setting custom ajax headers using the return:\n\t\t\t\treturn ajax;\n\t\t\t} // end if valid url?\n\t\t} // end if url?\n\n\n\t\t//go ahead and download dataURLs right away\n\t\tif(/^data:([\\w+-]+\\/[\\w+.-]+)?[,;]/.test(payload)){\n\n\t\t\tif(payload.length > (1024*1024*1.999) && myBlob !== toString ){\n\t\t\t\tpayload=dataUrlToBlob(payload);\n\t\t\t\tmimeType=payload.type || defaultMime;\n\t\t\t}else{\n\t\t\t\treturn navigator.msSaveBlob ?  // IE10 can't do a[download], only Blobs:\n\t\t\t\t\tnavigator.msSaveBlob(dataUrlToBlob(payload), fileName) :\n\t\t\t\t\tsaver(payload) ; // everyone else can save dataURLs un-processed\n\t\t\t}\n\n\t\t}else{//not data url, is it a string with special needs?\n\t\t\tif(/([\\x80-\\xff])/.test(payload)){\n\t\t\t\tvar i=0, tempUiArr= new Uint8Array(payload.length), mx=tempUiArr.length;\n\t\t\t\tfor(i;i<mx;++i) tempUiArr[i]= payload.charCodeAt(i);\n\t\t\t\tpayload=new myBlob([tempUiArr], {type: mimeType});\n\t\t\t}\n\t\t}\n\t\tblob = payload instanceof myBlob ?\n\t\t\tpayload :\n\t\t\tnew myBlob([payload], {type: mimeType}) ;\n\n\n\t\tfunction dataUrlToBlob(strUrl) {\n\t\t\tvar parts= strUrl.split(/[:;,]/),\n\t\t\t\ttype= parts[1],\n\t\t\t\tindexDecoder = strUrl.indexOf(\"charset\")>0 ? 3: 2,\n\t\t\t\tdecoder= parts[indexDecoder] == \"base64\" ? atob : decodeURIComponent,\n\t\t\t\tbinData= decoder( parts.pop() ),\n\t\t\t\tmx= binData.length,\n\t\t\t\ti= 0,\n\t\t\t\tuiArr= new Uint8Array(mx);\n\n\t\t\tfor(i;i<mx;++i) uiArr[i]= binData.charCodeAt(i);\n\n\t\t\treturn new myBlob([uiArr], {type: type});\n\t\t}\n\n\t\tfunction saver(url, winMode){\n\n\t\t\tif ('download' in anchor) { //html5 A[download]\n\t\t\t\tanchor.href = url;\n\t\t\t\tanchor.setAttribute(\"download\", fileName);\n\t\t\t\tanchor.className = \"download-js-link\";\n\t\t\t\tanchor.innerHTML = \"downloading...\";\n\t\t\t\tanchor.style.display = \"none\";\n\t\t\t\tanchor.addEventListener('click', function(e) {\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\tthis.removeEventListener('click', arguments.callee);\n\t\t\t\t});\n\t\t\t\tdocument.body.appendChild(anchor);\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tanchor.click();\n\t\t\t\t\tdocument.body.removeChild(anchor);\n\t\t\t\t\tif(winMode===true){setTimeout(function(){ self.URL.revokeObjectURL(anchor.href);}, 250 );}\n\t\t\t\t}, 66);\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// handle non-a[download] safari as best we can:\n\t\t\tif(/(Version)\\/(\\d+)\\.(\\d+)(?:\\.(\\d+))?.*Safari\\//.test(navigator.userAgent)) {\n\t\t\t\tif(/^data:/.test(url))\turl=\"data:\"+url.replace(/^data:([\\w\\/\\-\\+]+)/, defaultMime);\n\t\t\t\tif(!window.open(url)){ // popup blocked, offer direct download:\n\t\t\t\t\tif(confirm(\"Displaying New Document\\n\\nUse Save As... to download, then click back to return to this page.\")){ location.href=url; }\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t//do iframe dataURL download (old ch+FF):\n\t\t\tvar f = document.createElement(\"iframe\");\n\t\t\tdocument.body.appendChild(f);\n\n\t\t\tif(!winMode && /^data:/.test(url)){ // force a mime that will download:\n\t\t\t\turl=\"data:\"+url.replace(/^data:([\\w\\/\\-\\+]+)/, defaultMime);\n\t\t\t}\n\t\t\tf.src=url;\n\t\t\tsetTimeout(function(){ document.body.removeChild(f); }, 333);\n\n\t\t}//end saver\n\n\n\n\n\t\tif (navigator.msSaveBlob) { // IE10+ : (has Blob, but not a[download] or URL)\n\t\t\treturn navigator.msSaveBlob(blob, fileName);\n\t\t}\n\n\t\tif(self.URL){ // simple fast and modern way using Blob and URL:\n\t\t\tsaver(self.URL.createObjectURL(blob), true);\n\t\t}else{\n\t\t\t// handle non-Blob()+non-URL browsers:\n\t\t\tif(typeof blob === \"string\" || blob.constructor===toString ){\n\t\t\t\ttry{\n\t\t\t\t\treturn saver( \"data:\" +  mimeType   + \";base64,\"  +  self.btoa(blob)  );\n\t\t\t\t}catch(y){\n\t\t\t\t\treturn saver( \"data:\" +  mimeType   + \",\" + encodeURIComponent(blob)  );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Blob but not URL support:\n\t\t\treader=new FileReader();\n\t\t\treader.onload=function(e){\n\t\t\t\tsaver(this.result);\n\t\t\t};\n\t\t\treader.readAsDataURL(blob);\n\t\t}\n\t\treturn true;\n\t}; /* end download() */\n}));", "(function(c){function a(b,d){if({}.hasOwnProperty.call(a.cache,b))return a.cache[b];var e=a.resolve(b);if(!e)throw new Error('Failed to resolve module '+b);var c={id:b,require:a,filename:b,exports:{},loaded:!1,parent:d,children:[]};d&&d.children.push(c);var f=b.slice(0,b.lastIndexOf('/')+1);return a.cache[b]=c.exports,e.call(c.exports,c,c.exports,f,b),c.loaded=!0,a.cache[b]=c.exports}a.modules={},a.cache={},a.resolve=function(b){return{}.hasOwnProperty.call(a.modules,b)?a.modules[b]:void 0},a.define=function(b,c){a.modules[b]=c};var b=function(a){return a='/',{title:'browser',version:'v0.10.26',browser:!0,env:{},argv:[],nextTick:c.setImmediate||function(a){setTimeout(a,0)},cwd:function(){return a},chdir:function(b){a=b}}}();a.define('/gif.coffee',function(d,m,l,k){function g(a,b){return{}.hasOwnProperty.call(a,b)}function j(d,b){for(var a=0,c=b.length;a<c;++a)if(a in b&&b[a]===d)return!0;return!1}function i(a,b){function d(){this.constructor=a}for(var c in b)g(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a}var h,c,f,b,e;f=a('events',d).EventEmitter,h=a('/browser.coffee',d),e=function(d){function a(d){var a,b;this.running=!1,this.options={},this.frames=[],this.freeWorkers=[],this.activeWorkers=[],this.setOptions(d);for(a in c)b=c[a],null!=this.options[a]?this.options[a]:this.options[a]=b}return i(a,d),c={workerScript:'gif.worker.js',workers:2,repeat:0,background:'#fff',quality:10,width:null,height:null,transparent:null},b={delay:500,copy:!1},a.prototype.setOption=function(a,b){return this.options[a]=b,null!=this._canvas&&(a==='width'||a==='height')?this._canvas[a]=b:void 0},a.prototype.setOptions=function(b){var a,c;return function(d){for(a in b){if(!g(b,a))continue;c=b[a],d.push(this.setOption(a,c))}return d}.call(this,[])},a.prototype.addFrame=function(a,d){var c,e;null==d&&(d={}),c={},c.transparent=this.options.transparent;for(e in b)c[e]=d[e]||b[e];if(null!=this.options.width||this.setOption('width',a.width),null!=this.options.height||this.setOption('height',a.height),'undefined'!==typeof ImageData&&null!=ImageData&&a instanceof ImageData)c.data=a.data;else if('undefined'!==typeof CanvasRenderingContext2D&&null!=CanvasRenderingContext2D&&a instanceof CanvasRenderingContext2D||'undefined'!==typeof WebGLRenderingContext&&null!=WebGLRenderingContext&&a instanceof WebGLRenderingContext)d.copy?c.data=this.getContextData(a):c.context=a;else if(null!=a.childNodes)d.copy?c.data=this.getImageData(a):c.image=a;else throw new Error('Invalid image');return this.frames.push(c)},a.prototype.render=function(){var d,a;if(this.running)throw new Error('Already running');if(!(null!=this.options.width&&null!=this.options.height))throw new Error('Width and height must be set prior to rendering');this.running=!0,this.nextFrame=0,this.finishedFrames=0,this.imageParts=function(c){for(var b=function(){var b;b=[];for(var a=0;0<=this.frames.length?a<this.frames.length:a>this.frames.length;0<=this.frames.length?++a:--a)b.push(a);return b}.apply(this,arguments),a=0,e=b.length;a<e;++a)d=b[a],c.push(null);return c}.call(this,[]),a=this.spawnWorkers();for(var c=function(){var c;c=[];for(var b=0;0<=a?b<a:b>a;0<=a?++b:--b)c.push(b);return c}.apply(this,arguments),b=0,e=c.length;b<e;++b)d=c[b],this.renderNextFrame();return this.emit('start'),this.emit('progress',0)},a.prototype.abort=function(){var a;while(!0){if(a=this.activeWorkers.shift(),!(null!=a))break;console.log('killing active worker'),a.terminate()}return this.running=!1,this.emit('abort')},a.prototype.spawnWorkers=function(){var a;return a=Math.min(this.options.workers,this.frames.length),function(){var c;c=[];for(var b=this.freeWorkers.length;this.freeWorkers.length<=a?b<a:b>a;this.freeWorkers.length<=a?++b:--b)c.push(b);return c}.apply(this,arguments).forEach(function(a){return function(c){var b;return console.log('spawning worker '+c),b=new Worker(a.options.workerScript),b.onmessage=function(a){return function(c){return a.activeWorkers.splice(a.activeWorkers.indexOf(b),1),a.freeWorkers.push(b),a.frameFinished(c.data)}}(a),a.freeWorkers.push(b)}}(this)),a},a.prototype.frameFinished=function(a){return console.log('frame '+a.index+' finished - '+this.activeWorkers.length+' active'),this.finishedFrames++,this.emit('progress',this.finishedFrames/this.frames.length),this.imageParts[a.index]=a,j(null,this.imageParts)?this.renderNextFrame():this.finishRendering()},a.prototype.finishRendering=function(){var e,a,k,m,b,d,h;b=0;for(var f=0,j=this.imageParts.length;f<j;++f)a=this.imageParts[f],b+=(a.data.length-1)*a.pageSize+a.cursor;b+=a.pageSize-a.cursor,console.log('rendering finished - filesize '+Math.round(b/1e3)+'kb'),e=new Uint8Array(b),d=0;for(var g=0,l=this.imageParts.length;g<l;++g){a=this.imageParts[g];for(var c=0,i=a.data.length;c<i;++c)h=a.data[c],k=c,e.set(h,d),k===a.data.length-1?d+=a.cursor:d+=a.pageSize}return m=new Blob([e],{type:'image/gif'}),this.emit('finished',m,e)},a.prototype.renderNextFrame=function(){var c,a,b;if(this.freeWorkers.length===0)throw new Error('No free workers');return this.nextFrame>=this.frames.length?void 0:(c=this.frames[this.nextFrame++],b=this.freeWorkers.shift(),a=this.getTask(c),console.log('starting frame '+(a.index+1)+' of '+this.frames.length),this.activeWorkers.push(b),b.postMessage(a))},a.prototype.getContextData=function(a){return a.getImageData(0,0,this.options.width,this.options.height).data},a.prototype.getImageData=function(b){var a;return null!=this._canvas||(this._canvas=document.createElement('canvas'),this._canvas.width=this.options.width,this._canvas.height=this.options.height),a=this._canvas.getContext('2d'),a.setFill=this.options.background,a.fillRect(0,0,this.options.width,this.options.height),a.drawImage(b,0,0),this.getContextData(a)},a.prototype.getTask=function(a){var c,b;if(c=this.frames.indexOf(a),b={index:c,last:c===this.frames.length-1,delay:a.delay,transparent:a.transparent,width:this.options.width,height:this.options.height,quality:this.options.quality,repeat:this.options.repeat,canTransfer:h.name==='chrome'},null!=a.data)b.data=a.data;else if(null!=a.context)b.data=this.getContextData(a.context);else if(null!=a.image)b.data=this.getImageData(a.image);else throw new Error('Invalid frame');return b},a}(f),d.exports=e}),a.define('/browser.coffee',function(f,g,h,i){var a,d,e,c,b;c=navigator.userAgent.toLowerCase(),e=navigator.platform.toLowerCase(),b=c.match(/(opera|ie|firefox|chrome|version)[\\s\\/:]([\\w\\d\\.]+)?.*?(safari|version[\\s\\/:]([\\w\\d\\.]+)|$)/)||[null,'unknown',0],d=b[1]==='ie'&&document.documentMode,a={name:b[1]==='version'?b[3]:b[1],version:d||parseFloat(b[1]==='opera'&&b[4]?b[4]:b[2]),platform:{name:c.match(/ip(?:ad|od|hone)/)?'ios':(c.match(/(?:webos|android)/)||e.match(/mac|win|linux/)||['other'])[0]}},a[a.name]=!0,a[a.name+parseInt(a.version,10)]=!0,a.platform[a.platform.name]=!0,f.exports=a}),a.define('events',function(f,e,g,h){b.EventEmitter||(b.EventEmitter=function(){});var a=e.EventEmitter=b.EventEmitter,c=typeof Array.isArray==='function'?Array.isArray:function(a){return Object.prototype.toString.call(a)==='[object Array]'},d=10;a.prototype.setMaxListeners=function(a){this._events||(this._events={}),this._events.maxListeners=a},a.prototype.emit=function(f){if(f==='error'&&(!(this._events&&this._events.error)||c(this._events.error)&&!this._events.error.length))throw arguments[1]instanceof Error?arguments[1]:new Error(\"Uncaught, unspecified 'error' event.\");if(!this._events)return!1;var a=this._events[f];if(!a)return!1;if(!(typeof a=='function'))if(c(a)){var b=Array.prototype.slice.call(arguments,1),e=a.slice();for(var d=0,g=e.length;d<g;d++)e[d].apply(this,b);return!0}else return!1;switch(arguments.length){case 1:a.call(this);break;case 2:a.call(this,arguments[1]);break;case 3:a.call(this,arguments[1],arguments[2]);break;default:var b=Array.prototype.slice.call(arguments,1);a.apply(this,b)}return!0},a.prototype.addListener=function(a,b){if('function'!==typeof b)throw new Error('addListener only takes instances of Function');if(this._events||(this._events={}),this.emit('newListener',a,b),!this._events[a])this._events[a]=b;else if(c(this._events[a])){if(!this._events[a].warned){var e;this._events.maxListeners!==undefined?e=this._events.maxListeners:e=d,e&&e>0&&this._events[a].length>e&&(this._events[a].warned=!0,console.error('(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.',this._events[a].length),console.trace())}this._events[a].push(b)}else this._events[a]=[this._events[a],b];return this},a.prototype.on=a.prototype.addListener,a.prototype.once=function(b,c){var a=this;return a.on(b,function d(){a.removeListener(b,d),c.apply(this,arguments)}),this},a.prototype.removeListener=function(a,d){if('function'!==typeof d)throw new Error('removeListener only takes instances of Function');if(!(this._events&&this._events[a]))return this;var b=this._events[a];if(c(b)){var e=b.indexOf(d);if(e<0)return this;b.splice(e,1),b.length==0&&delete this._events[a]}else this._events[a]===d&&delete this._events[a];return this},a.prototype.removeAllListeners=function(a){return a&&this._events&&this._events[a]&&(this._events[a]=null),this},a.prototype.listeners=function(a){return this._events||(this._events={}),this._events[a]||(this._events[a]=[]),c(this._events[a])||(this._events[a]=[this._events[a]]),this._events[a]}}),c.GIF=a('/gif.coffee')}.call(this,this))\r\n//# sourceMappingURL=gif.js.map\r\n// gif.js 0.1.6 - https://github.com/jnordberg/gif.js", "module.exports = Object.create(new Proxy({}, {\n  get(_, key) {\n    if (\n      key !== '__esModule' &&\n      key !== '__proto__' &&\n      key !== 'constructor' &&\n      key !== 'splice'\n    ) {\n      console.warn(`Module \"fs\" has been externalized for browser compatibility. Cannot access \"fs.${key}\" in client code. See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)\n    }\n  }\n}))", "/**\n * A tool for presenting an ArrayBuffer as a stream for writing some simple data types.\n * \n * By Nicholas Sherlock\n * \n * Released under the WTFPLv2 https://en.wikipedia.org/wiki/WTFPL\n */\n\n\"use strict\";\n\n(function(){\n\n    var isNodeEnviroment = typeof module !== 'undefined' && typeof module.exports !== 'undefined';\n\n    /**\n     * Create an ArrayBuffer of the given length and present it as a writable stream with methods\n     * for writing data in different formats.\n     */\n\n    var ArrayBufferDataStream = function(length) {\n        this.data = new Uint8Array(length);\n        this.pos = 0;\n    };\n    \n    ArrayBufferDataStream.prototype.seek = function(offset) {\n        this.pos = offset;\n    };\n\n    ArrayBufferDataStream.prototype.writeBytes = function(arr) {\n        for (var i = 0; i < arr.length; i++) {\n            this.data[this.pos++] = arr[i];\n        }\n    };\n\n    ArrayBufferDataStream.prototype.writeByte = function(b) {\n        this.data[this.pos++] = b;\n    };\n    \n    //Synonym:\n    ArrayBufferDataStream.prototype.writeU8 = ArrayBufferDataStream.prototype.writeByte;\n    \n    ArrayBufferDataStream.prototype.writeU16BE = function(u) {\n        this.data[this.pos++] = u >> 8;\n        this.data[this.pos++] = u;\n    };\n\n    ArrayBufferDataStream.prototype.writeDoubleBE = function(d) {\n        var \n            bytes = new Uint8Array(new Float64Array([d]).buffer);\n        \n        for (var i = bytes.length - 1; i >= 0; i--) {\n            this.writeByte(bytes[i]);\n        }\n    };\n\n    ArrayBufferDataStream.prototype.writeFloatBE = function(d) {\n        var \n            bytes = new Uint8Array(new Float32Array([d]).buffer);\n        \n        for (var i = bytes.length - 1; i >= 0; i--) {\n            this.writeByte(bytes[i]);\n        }\n    };\n\n    /**\n     * Write an ASCII string to the stream\n     */\n    ArrayBufferDataStream.prototype.writeString = function(s) {\n        for (var i = 0; i < s.length; i++) {\n            this.data[this.pos++] = s.charCodeAt(i);\n        }\n    };\n\n    /**\n     * Write the given 32-bit integer to the stream as an EBML variable-length integer using the given byte width \n     * (use measureEBMLVarInt).\n     * \n     * No error checking is performed to ensure that the supplied width is correct for the integer.\n     * \n     * @param i Integer to be written\n     * @param width Number of bytes to write to the stream\n     */\n    ArrayBufferDataStream.prototype.writeEBMLVarIntWidth = function(i, width) {\n        switch (width) {\n            case 1:\n                this.writeU8((1 << 7) | i);\n            break;\n            case 2:\n                this.writeU8((1 << 6) | (i >> 8));\n                this.writeU8(i);\n            break;\n            case 3:\n                this.writeU8((1 << 5) | (i >> 16));\n                this.writeU8(i >> 8);\n                this.writeU8(i);\n            break;\n            case 4:\n                this.writeU8((1 << 4) | (i >> 24));\n                this.writeU8(i >> 16);\n                this.writeU8(i >> 8);\n                this.writeU8(i);\n            break;\n            case 5:\n                /* \n                 * JavaScript converts its doubles to 32-bit integers for bitwise operations, so we need to do a \n                 * division by 2^32 instead of a right-shift of 32 to retain those top 3 bits\n                 */\n                this.writeU8((1 << 3) | ((i / 4294967296) & 0x7)); \n                this.writeU8(i >> 24);\n                this.writeU8(i >> 16);\n                this.writeU8(i >> 8);\n                this.writeU8(i);\n            break;\n            default:\n                throw new RuntimeException(\"Bad EBML VINT size \" + width);\n        }\n    };\n    \n    /**\n     * Return the number of bytes needed to encode the given integer as an EBML VINT.\n     */\n    ArrayBufferDataStream.prototype.measureEBMLVarInt = function(val) {\n        if (val < (1 << 7) - 1) { \n            /* Top bit is set, leaving 7 bits to hold the integer, but we can't store 127 because\n             * \"all bits set to one\" is a reserved value. Same thing for the other cases below:\n             */\n            return 1;\n        } else if (val < (1 << 14) - 1) {\n            return 2;\n        } else if (val < (1 << 21) - 1) {\n            return 3;\n        } else if (val < (1 << 28) - 1) {\n            return 4;\n        } else if (val < 34359738367) { // 2 ^ 35 - 1 (can address 32GB)\n            return 5;\n        } else {\n            throw new RuntimeException(\"EBML VINT size not supported \" + val);\n        }\n    };\n    \n    ArrayBufferDataStream.prototype.writeEBMLVarInt = function(i) {\n        this.writeEBMLVarIntWidth(i, this.measureEBMLVarInt(i));\n    };\n    \n    /**\n     * Write the given unsigned 32-bit integer to the stream in big-endian order using the given byte width.\n     * No error checking is performed to ensure that the supplied width is correct for the integer.\n     * \n     * Omit the width parameter to have it determined automatically for you.\n     * \n     * @param u Unsigned integer to be written\n     * @param width Number of bytes to write to the stream\n     */\n    ArrayBufferDataStream.prototype.writeUnsignedIntBE = function(u, width) {\n        if (width === undefined) {\n            width = this.measureUnsignedInt(u);\n        }\n        \n        // Each case falls through:\n        switch (width) {\n            case 5:\n                this.writeU8(Math.floor(u / 4294967296)); // Need to use division to access >32 bits of floating point var\n            case 4:\n                this.writeU8(u >> 24);\n            case 3:\n                this.writeU8(u >> 16);\n            case 2:\n                this.writeU8(u >> 8);\n            case 1:\n                this.writeU8(u);\n            break;\n            default:\n                throw new RuntimeException(\"Bad UINT size \" + width);\n        }\n    };\n    \n    /**\n     * Return the number of bytes needed to hold the non-zero bits of the given unsigned integer.\n     */\n    ArrayBufferDataStream.prototype.measureUnsignedInt = function(val) {\n        // Force to 32-bit unsigned integer\n        if (val < (1 << 8)) {\n            return 1;\n        } else if (val < (1 << 16)) {\n            return 2;\n        } else if (val < (1 << 24)) {\n            return 3;\n        } else if (val < 4294967296) {\n            return 4;\n        } else {\n            return 5;\n        }\n    };\n\n    /**\n     * Return a view on the portion of the buffer from the beginning to the current seek position as a Uint8Array.\n     */\n    ArrayBufferDataStream.prototype.getAsDataArray = function() {\n        if (this.pos < this.data.byteLength) {\n            return this.data.subarray(0, this.pos);\n        } else if (this.pos == this.data.byteLength) {\n            return this.data;\n        } else {\n            throw \"ArrayBufferDataStream's pos lies beyond end of buffer\";\n        }\n    };\n\n    window.ArrayBufferDataStream = ArrayBufferDataStream;\n\n    /**\n     * Allows a series of Blob-convertible objects (ArrayBuffer, Blob, String, etc) to be added to a buffer. Seeking and\n     * overwriting of blobs is allowed.\n     *\n     * You can supply a FileWriter, in which case the BlobBuffer is just used as temporary storage before it writes it\n     * through to the disk.\n     *\n     * By Nicholas Sherlock\n     *\n     * Released under the WTFPLv2 https://en.wikipedia.org/wiki/WTFPL\n     */\n\n\tvar BlobBuffer = function(fs) {\n\t\treturn function(destination) {\n\t\t\tvar\n\t\t\t\tbuffer = [],\n\t\t\t\twritePromise = Promise.resolve(),\n\t\t\t\tfileWriter = null,\n\t\t\t\tfd = null;\n\t\t\t\n\t\t\tif (typeof FileWriter !== \"undefined\" && destination instanceof FileWriter) {\n\t\t\t\tfileWriter = destination;\n\t\t\t} else if (fs && destination) {\n\t\t\t\tfd = destination;\n\t\t\t}\n\t\t\t\n\t\t\t// Current seek offset\n\t\t\tthis.pos = 0;\n\t\t\t\n\t\t\t// One more than the index of the highest byte ever written\n\t\t\tthis.length = 0;\n\t\t\t\n\t\t\t// Returns a promise that converts the blob to an ArrayBuffer\n\t\t\tfunction readBlobAsBuffer(blob) {\n\t\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\t\tvar\n\t\t\t\t\t\treader = new FileReader();\n\t\t\t\t\t\n\t\t\t\t\treader.addEventListener(\"loadend\", function () {\n\t\t\t\t\t\tresolve(reader.result);\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\treader.readAsArrayBuffer(blob);\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t\tfunction convertToUint8Array(thing) {\n\t\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\t\tif (thing instanceof Uint8Array) {\n\t\t\t\t\t\tresolve(thing);\n\t\t\t\t\t} else if (thing instanceof ArrayBuffer || ArrayBuffer.isView(thing)) {\n\t\t\t\t\t\tresolve(new Uint8Array(thing));\n\t\t\t\t\t} else if (thing instanceof Blob) {\n\t\t\t\t\t\tresolve(readBlobAsBuffer(thing).then(function (buffer) {\n\t\t\t\t\t\t\treturn new Uint8Array(buffer);\n\t\t\t\t\t\t}));\n\t\t\t\t\t} else {\n\t\t\t\t\t\t//Assume that Blob will know how to read this thing\n\t\t\t\t\t\tresolve(readBlobAsBuffer(new Blob([thing])).then(function (buffer) {\n\t\t\t\t\t\t\treturn new Uint8Array(buffer);\n\t\t\t\t\t\t}));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t\tfunction measureData(data) {\n\t\t\t\tvar\n\t\t\t\t\tresult = data.byteLength || data.length || data.size;\n\t\t\t\t\n\t\t\t\tif (!Number.isInteger(result)) {\n\t\t\t\t\tthrow \"Failed to determine size of element\";\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn result;\n\t\t\t}\n\t\t\t\n\t\t\t/**\n\t\t\t * Seek to the given absolute offset.\n\t\t\t *\n\t\t\t * You may not seek beyond the end of the file (this would create a hole and/or allow blocks to be written in non-\n\t\t\t * sequential order, which isn't currently supported by the memory buffer backend).\n\t\t\t */\n\t\t\tthis.seek = function (offset) {\n\t\t\t\tif (offset < 0) {\n\t\t\t\t\tthrow \"Offset may not be negative\";\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif (isNaN(offset)) {\n\t\t\t\t\tthrow \"Offset may not be NaN\";\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif (offset > this.length) {\n\t\t\t\t\tthrow \"Seeking beyond the end of file is not allowed\";\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.pos = offset;\n\t\t\t};\n\t\t\t\n\t\t\t/**\n\t\t\t * Write the Blob-convertible data to the buffer at the current seek position.\n\t\t\t *\n\t\t\t * Note: If overwriting existing data, the write must not cross preexisting block boundaries (written data must\n\t\t\t * be fully contained by the extent of a previous write).\n\t\t\t */\n\t\t\tthis.write = function (data) {\n\t\t\t\tvar\n\t\t\t\t\tnewEntry = {\n\t\t\t\t\t\toffset: this.pos,\n\t\t\t\t\t\tdata: data,\n\t\t\t\t\t\tlength: measureData(data)\n\t\t\t\t\t},\n\t\t\t\t\tisAppend = newEntry.offset >= this.length;\n\t\t\t\t\n\t\t\t\tthis.pos += newEntry.length;\n\t\t\t\tthis.length = Math.max(this.length, this.pos);\n\t\t\t\t\n\t\t\t\t// After previous writes complete, perform our write\n\t\t\t\twritePromise = writePromise.then(function () {\n\t\t\t\t\tif (fd) {\n\t\t\t\t\t\treturn new Promise(function(resolve, reject) {\n\t\t\t\t\t\t\tconvertToUint8Array(newEntry.data).then(function(dataArray) {\n\t\t\t\t\t\t\t\tvar\n\t\t\t\t\t\t\t\t\ttotalWritten = 0,\n\t\t\t\t\t\t\t\t\tbuffer = Buffer.from(dataArray.buffer),\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\thandleWriteComplete = function(err, written, buffer) {\n\t\t\t\t\t\t\t\t\t\ttotalWritten += written;\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\tif (totalWritten >= buffer.length) {\n\t\t\t\t\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t// We still have more to write...\n\t\t\t\t\t\t\t\t\t\t\tfs.write(fd, buffer, totalWritten, buffer.length - totalWritten, newEntry.offset + totalWritten, handleWriteComplete);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tfs.write(fd, buffer, 0, buffer.length, newEntry.offset, handleWriteComplete);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t} else if (fileWriter) {\n\t\t\t\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\t\t\t\tfileWriter.onwriteend = resolve;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tfileWriter.seek(newEntry.offset);\n\t\t\t\t\t\t\tfileWriter.write(new Blob([newEntry.data]));\n\t\t\t\t\t\t});\n\t\t\t\t\t} else if (!isAppend) {\n\t\t\t\t\t\t// We might be modifying a write that was already buffered in memory.\n\t\t\t\t\t\t\n\t\t\t\t\t\t// Slow linear search to find a block we might be overwriting\n\t\t\t\t\t\tfor (var i = 0; i < buffer.length; i++) {\n\t\t\t\t\t\t\tvar\n\t\t\t\t\t\t\t\tentry = buffer[i];\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t// If our new entry overlaps the old one in any way...\n\t\t\t\t\t\t\tif (!(newEntry.offset + newEntry.length <= entry.offset || newEntry.offset >= entry.offset + entry.length)) {\n\t\t\t\t\t\t\t\tif (newEntry.offset < entry.offset || newEntry.offset + newEntry.length > entry.offset + entry.length) {\n\t\t\t\t\t\t\t\t\tthrow new Error(\"Overwrite crosses blob boundaries\");\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tif (newEntry.offset == entry.offset && newEntry.length == entry.length) {\n\t\t\t\t\t\t\t\t\t// We overwrote the entire block\n\t\t\t\t\t\t\t\t\tentry.data = newEntry.data;\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t// We're done\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\treturn convertToUint8Array(entry.data)\n\t\t\t\t\t\t\t\t\t\t.then(function (entryArray) {\n\t\t\t\t\t\t\t\t\t\t\tentry.data = entryArray;\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\treturn convertToUint8Array(newEntry.data);\n\t\t\t\t\t\t\t\t\t\t}).then(function (newEntryArray) {\n\t\t\t\t\t\t\t\t\t\t\tnewEntry.data = newEntryArray;\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\tentry.data.set(newEntry.data, newEntry.offset - entry.offset);\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// Else fall through to do a simple append, as we didn't overwrite any pre-existing blocks\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tbuffer.push(newEntry);\n\t\t\t\t});\n\t\t\t};\n\t\t\t\n\t\t\t/**\n\t\t\t * Finish all writes to the buffer, returning a promise that signals when that is complete.\n\t\t\t *\n\t\t\t * If a FileWriter was not provided, the promise is resolved with a Blob that represents the completed BlobBuffer\n\t\t\t * contents. You can optionally pass in a mimeType to be used for this blob.\n\t\t\t *\n\t\t\t * If a FileWriter was provided, the promise is resolved with null as the first argument.\n\t\t\t */\n\t\t\tthis.complete = function (mimeType) {\n\t\t\t\tif (fd || fileWriter) {\n\t\t\t\t\twritePromise = writePromise.then(function () {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\t// After writes complete we need to merge the buffer to give to the caller\n\t\t\t\t\twritePromise = writePromise.then(function () {\n\t\t\t\t\t\tvar\n\t\t\t\t\t\t\tresult = [];\n\t\t\t\t\t\t\n\t\t\t\t\t\tfor (var i = 0; i < buffer.length; i++) {\n\t\t\t\t\t\t\tresult.push(buffer[i].data);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\treturn new Blob(result, {mimeType: mimeType});\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn writePromise;\n\t\t\t};\n\t\t};\n\t}(isNodeEnviroment ? require('fs') : null);\n\t\n\twindow.BlobBuffer = BlobBuffer;\n\n    /**\n     * WebM video encoder for Google Chrome. This implementation is suitable for creating very large video files, because\n     * it can stream Blobs directly to a FileWriter without buffering the entire video in memory.\n     *\n     * When FileWriter is not available or not desired, it can buffer the video in memory as a series of Blobs which are\n     * eventually returned as one composite Blob.\n     *\n     * By Nicholas Sherlock.\n     *\n     * Based on the ideas from Whammy: https://github.com/antimatter15/whammy\n     *\n     * Released under the WTFPLv2 https://en.wikipedia.org/wiki/WTFPL\n     */\n\n    var WebMWriter = function(ArrayBufferDataStream, BlobBuffer) {\n        function extend(base, top) {\n            var\n                target = {};\n            \n            [base, top].forEach(function(obj) {\n                for (var prop in obj) {\n                    if (Object.prototype.hasOwnProperty.call(obj, prop)) {\n                        target[prop] = obj[prop];\n                    }\n                }\n            });\n            \n            return target;\n        }\n        \n        /**\n         * Decode a Base64 data URL into a binary string.\n         *\n         * Returns the binary string, or false if the URL could not be decoded.\n         */\n        function decodeBase64WebPDataURL(url) {\n            if (typeof url !== \"string\" || !url.match(/^data:image\\/webp;base64,/i)) {\n                return false;\n            }\n            \n            return window.atob(url.substring(\"data:image\\/webp;base64,\".length));\n        }\n        \n        /**\n         * Convert a raw binary string (one character = one output byte) to an ArrayBuffer\n         */\n        function stringToArrayBuffer(string) {\n            var\n                buffer = new ArrayBuffer(string.length),\n                int8Array = new Uint8Array(buffer);\n            \n            for (var i = 0; i < string.length; i++) {\n                int8Array[i] = string.charCodeAt(i);\n            }\n            \n            return buffer;\n        }\n        \n        /**\n         * Convert the given canvas to a WebP encoded image and return the image data as a string.\n         */\n        function renderAsWebP(canvas, quality) {\n            var\n                frame = canvas.toDataURL('image/webp', {quality: quality});\n            \n            return decodeBase64WebPDataURL(frame);\n        }\n        \n        function extractKeyframeFromWebP(webP) {\n            // Assume that Chrome will generate a Simple Lossy WebP which has this header:\n            var\n                keyframeStartIndex = webP.indexOf('VP8 ');\n            \n            if (keyframeStartIndex == -1) {\n                throw \"Failed to identify beginning of keyframe in WebP image\";\n            }\n            \n            // Skip the header and the 4 bytes that encode the length of the VP8 chunk\n            keyframeStartIndex += 'VP8 '.length + 4;\n            \n            return webP.substring(keyframeStartIndex);\n        }\n        \n        // Just a little utility so we can tag values as floats for the EBML encoder's benefit\n        function EBMLFloat32(value) {\n            this.value = value;\n        }\n        \n        function EBMLFloat64(value) {\n            this.value = value;\n        }\n        \n        /**\n         * Write the given EBML object to the provided ArrayBufferStream.\n         *\n         * The buffer's first byte is at bufferFileOffset inside the video file. This is used to complete offset and\n         * dataOffset fields in each EBML structure, indicating the file offset of the first byte of the EBML element and\n         * its data payload.\n         */\n        function writeEBML(buffer, bufferFileOffset, ebml) {\n            // Is the ebml an array of sibling elements?\n            if (Array.isArray(ebml)) {\n                for (var i = 0; i < ebml.length; i++) {\n                    writeEBML(buffer, bufferFileOffset, ebml[i]);\n                }\n            // Is this some sort of raw data that we want to write directly?\n            } else if (typeof ebml === \"string\") {\n                buffer.writeString(ebml);\n            } else if (ebml instanceof Uint8Array) {\n                buffer.writeBytes(ebml);\n            } else if (ebml.id){\n                // We're writing an EBML element\n                ebml.offset = buffer.pos + bufferFileOffset;\n                \n                buffer.writeUnsignedIntBE(ebml.id); // ID field\n                \n                // Now we need to write the size field, so we must know the payload size:\n                \n                if (Array.isArray(ebml.data)) {\n                    // Writing an array of child elements. We won't try to measure the size of the children up-front\n                    \n                    var\n                        sizePos, dataBegin, dataEnd;\n                    \n                    if (ebml.size === -1) {\n                        // Write the reserved all-one-bits marker to note that the size of this element is unknown/unbounded\n                        buffer.writeByte(0xFF);\n                    } else {\n                        sizePos = buffer.pos;\n                        \n                        /* Write a dummy size field to overwrite later. 4 bytes allows an element maximum size of 256MB,\n                         * which should be plenty (we don't want to have to buffer that much data in memory at one time\n                         * anyway!)\n                         */\n                        buffer.writeBytes([0, 0, 0, 0]);\n                    }\n                    \n                    dataBegin = buffer.pos;\n                    \n                    ebml.dataOffset = dataBegin + bufferFileOffset;\n                    writeEBML(buffer, bufferFileOffset, ebml.data);\n                    \n                    if (ebml.size !== -1) {\n                        dataEnd = buffer.pos;\n                        \n                        ebml.size = dataEnd - dataBegin;\n                        \n                        buffer.seek(sizePos);\n                        buffer.writeEBMLVarIntWidth(ebml.size, 4); // Size field\n                        \n                        buffer.seek(dataEnd);\n                    }\n                } else if (typeof ebml.data === \"string\") {\n                    buffer.writeEBMLVarInt(ebml.data.length); // Size field\n                    ebml.dataOffset = buffer.pos + bufferFileOffset;\n                    buffer.writeString(ebml.data);\n                } else if (typeof ebml.data === \"number\") {\n                    // Allow the caller to explicitly choose the size if they wish by supplying a size field\n                    if (!ebml.size) {\n                        ebml.size = buffer.measureUnsignedInt(ebml.data);\n                    }\n                    \n                    buffer.writeEBMLVarInt(ebml.size); // Size field\n                    ebml.dataOffset = buffer.pos + bufferFileOffset;\n                    buffer.writeUnsignedIntBE(ebml.data, ebml.size);\n                } else if (ebml.data instanceof EBMLFloat64) {\n                    buffer.writeEBMLVarInt(8); // Size field\n                    ebml.dataOffset = buffer.pos + bufferFileOffset;\n                    buffer.writeDoubleBE(ebml.data.value);\n                } else if (ebml.data instanceof EBMLFloat32) {\n                    buffer.writeEBMLVarInt(4); // Size field\n                    ebml.dataOffset = buffer.pos + bufferFileOffset;\n                    buffer.writeFloatBE(ebml.data.value);\n                } else if (ebml.data instanceof Uint8Array) {\n                    buffer.writeEBMLVarInt(ebml.data.byteLength); // Size field\n                    ebml.dataOffset = buffer.pos + bufferFileOffset;\n                    buffer.writeBytes(ebml.data);\n                } else {\n                    throw \"Bad EBML datatype \" + typeof ebml.data;\n                }\n            } else {\n                throw \"Bad EBML datatype \" + typeof ebml.data;\n            }\n        }\n        \n        return function(options) {\n            var\n                MAX_CLUSTER_DURATION_MSEC = 5000,\n                DEFAULT_TRACK_NUMBER = 1,\n            \n                writtenHeader = false,\n                videoWidth, videoHeight,\n                \n                clusterFrameBuffer = [],\n                clusterStartTime = 0,\n                clusterDuration = 0,\n                \n                optionDefaults = {\n                    quality: 0.95,       // WebM image quality from 0.0 (worst) to 1.0 (best)\n                    fileWriter: null,    // Chrome FileWriter in order to stream to a file instead of buffering to memory (optional)\n                    fd: null,            // Node.JS file descriptor to write to instead of buffering (optional)\n                    \n                    // You must supply one of:\n                    frameDuration: null, // Duration of frames in milliseconds\n                    frameRate: null,     // Number of frames per second\n                },\n                \n                seekPoints = {\n                    Cues: {id: new Uint8Array([0x1C, 0x53, 0xBB, 0x6B]), positionEBML: null},\n                    SegmentInfo: {id: new Uint8Array([0x15, 0x49, 0xA9, 0x66]), positionEBML: null},\n                    Tracks: {id: new Uint8Array([0x16, 0x54, 0xAE, 0x6B]), positionEBML: null},\n                },\n                \n                ebmlSegment,\n                segmentDuration = {\n                    \"id\": 0x4489, // Duration\n                    \"data\": new EBMLFloat64(0)\n                },\n                \n                seekHead,\n                \n                cues = [],\n                \n                blobBuffer = new BlobBuffer(options.fileWriter || options.fd);\n    \n            function fileOffsetToSegmentRelative(fileOffset) {\n                return fileOffset - ebmlSegment.dataOffset;\n            }\n            \n            /**\n             * Create a SeekHead element with descriptors for the points in the global seekPoints array.\n             *\n             * 5 bytes of position values are reserved for each node, which lie at the offset point.positionEBML.dataOffset,\n             * to be overwritten later.\n             */\n            function createSeekHead() {\n                var\n                    seekPositionEBMLTemplate = {\n                        \"id\": 0x53AC, // SeekPosition\n                        \"size\": 5, // Allows for 32GB video files\n                        \"data\": 0 // We'll overwrite this when the file is complete\n                    },\n                    \n                    result = {\n                        \"id\": 0x114D9B74, // SeekHead\n                        \"data\": []\n                    };\n                \n                for (var name in seekPoints) {\n                    var\n                        seekPoint = seekPoints[name];\n                \n                    seekPoint.positionEBML = Object.create(seekPositionEBMLTemplate);\n                    \n                    result.data.push({\n                         \"id\": 0x4DBB, // Seek\n                         \"data\": [\n                              {\n                                  \"id\": 0x53AB, // SeekID\n                                  \"data\": seekPoint.id\n                              },\n                              seekPoint.positionEBML\n                         ]\n                    });\n                }\n                \n                return result;\n            }\n            \n            /**\n             * Write the WebM file header to the stream.\n             */\n            function writeHeader() {\n                seekHead = createSeekHead();\n                \n                var\n                    ebmlHeader = {\n                        \"id\": 0x1a45dfa3, // EBML\n                        \"data\": [\n                            {\n                                \"id\": 0x4286, // EBMLVersion\n                                \"data\": 1\n                            },\n                            {\n                                \"id\": 0x42f7, // EBMLReadVersion\n                                \"data\": 1\n                            },\n                            {\n                                \"id\": 0x42f2, // EBMLMaxIDLength\n                                \"data\": 4\n                            },\n                            {\n                                \"id\": 0x42f3, // EBMLMaxSizeLength\n                                \"data\": 8\n                            },\n                            {\n                                \"id\": 0x4282, // DocType\n                                \"data\": \"webm\"\n                            },\n                            {\n                                \"id\": 0x4287, // DocTypeVersion\n                                \"data\": 2\n                            },\n                            {\n                                \"id\": 0x4285, // DocTypeReadVersion\n                                \"data\": 2\n                            }\n                        ]\n                    },\n                    \n                    segmentInfo = {\n                        \"id\": 0x1549a966, // Info\n                        \"data\": [\n                            {\n                                \"id\": 0x2ad7b1, // TimecodeScale\n                                \"data\": 1e6 // Times will be in miliseconds (1e6 nanoseconds per step = 1ms)\n                            },\n                            {\n                                \"id\": 0x4d80, // MuxingApp\n                                \"data\": \"webm-writer-js\",\n                            },\n                            {\n                                \"id\": 0x5741, // WritingApp\n                                \"data\": \"webm-writer-js\"\n                            },\n                            segmentDuration // To be filled in later\n                        ]\n                    },\n                    \n                    tracks = {\n                        \"id\": 0x1654ae6b, // Tracks\n                        \"data\": [\n                            {\n                                \"id\": 0xae, // TrackEntry\n                                \"data\": [\n                                    {\n                                        \"id\": 0xd7, // TrackNumber\n                                        \"data\": DEFAULT_TRACK_NUMBER\n                                    },\n                                    {\n                                        \"id\": 0x73c5, // TrackUID\n                                        \"data\": DEFAULT_TRACK_NUMBER\n                                    },\n                                    {\n                                        \"id\": 0x9c, // FlagLacing\n                                        \"data\": 0\n                                    },\n                                    {\n                                        \"id\": 0x22b59c, // Language\n                                        \"data\": \"und\"\n                                    },\n                                    {\n                                        \"id\": 0x86, // CodecID\n                                        \"data\": \"V_VP8\"\n                                    },\n                                    {\n                                        \"id\": 0x258688, // CodecName\n                                        \"data\": \"VP8\"\n                                    },\n                                    {\n                                        \"id\": 0x83, // TrackType\n                                        \"data\": 1\n                                    },\n                                    {\n                                        \"id\": 0xe0,  // Video\n                                        \"data\": [\n                                            {\n                                                \"id\": 0xb0, // PixelWidth\n                                                \"data\": videoWidth\n                                            },\n                                            {\n                                                \"id\": 0xba, // PixelHeight\n                                                \"data\": videoHeight\n                                            }\n                                        ]\n                                    }\n                                ]\n                            }\n                        ]\n                    };\n                \n                ebmlSegment = {\n                    \"id\": 0x18538067, // Segment\n                    \"size\": -1, // Unbounded size\n                    \"data\": [\n                        seekHead,\n                        segmentInfo,\n                        tracks,\n                    ]\n                };\n                \n                var\n                    bufferStream = new ArrayBufferDataStream(256);\n                    \n                writeEBML(bufferStream, blobBuffer.pos, [ebmlHeader, ebmlSegment]);\n                blobBuffer.write(bufferStream.getAsDataArray());\n                \n                // Now we know where these top-level elements lie in the file:\n                seekPoints.SegmentInfo.positionEBML.data = fileOffsetToSegmentRelative(segmentInfo.offset);\n                seekPoints.Tracks.positionEBML.data = fileOffsetToSegmentRelative(tracks.offset);\n            };\n            \n            /**\n             * Create a SimpleBlock keyframe header using these fields:\n             *     timecode    - Time of this keyframe\n             *     trackNumber - Track number from 1 to 126 (inclusive)\n             *     frame       - Raw frame data payload string\n             *\n             * Returns an EBML element.\n             */\n            function createKeyframeBlock(keyframe) {\n                var\n                    bufferStream = new ArrayBufferDataStream(1 + 2 + 1);\n                \n                if (!(keyframe.trackNumber > 0 && keyframe.trackNumber < 127)) {\n                    throw \"TrackNumber must be > 0 and < 127\";\n                }\n    \n                bufferStream.writeEBMLVarInt(keyframe.trackNumber); // Always 1 byte since we limit the range of trackNumber\n                bufferStream.writeU16BE(keyframe.timecode);\n                \n                // Flags byte\n                bufferStream.writeByte(\n                    1 << 7 // Keyframe\n                );\n                \n                return {\n                    \"id\": 0xA3, // SimpleBlock\n                    \"data\": [\n                         bufferStream.getAsDataArray(),\n                         keyframe.frame\n                    ]\n                };\n            }\n            \n            /**\n             * Create a Cluster node using these fields:\n             *\n             *    timecode    - Start time for the cluster\n             *\n             * Returns an EBML element.\n             */\n            function createCluster(cluster) {\n                return {\n                    \"id\": 0x1f43b675,\n                    \"data\": [\n                         {\n                            \"id\": 0xe7, // Timecode\n                            \"data\": Math.round(cluster.timecode)\n                         }\n                    ]\n                };\n            }\n            \n            function addCuePoint(trackIndex, clusterTime, clusterFileOffset) {\n                cues.push({\n                    \"id\": 0xBB, // Cue\n                    \"data\": [\n                         {\n                             \"id\": 0xB3, // CueTime\n                             \"data\": clusterTime\n                         },\n                         {\n                             \"id\": 0xB7, // CueTrackPositions\n                             \"data\": [\n                                  {\n                                      \"id\": 0xF7, // CueTrack\n                                      \"data\": trackIndex\n                                  },\n                                  {\n                                      \"id\": 0xF1, // CueClusterPosition\n                                      \"data\": fileOffsetToSegmentRelative(clusterFileOffset)\n                                  }\n                             ]\n                         }\n                    ]\n                });\n            }\n            \n            /**\n             * Write a Cues element to the blobStream using the global `cues` array of CuePoints (use addCuePoint()).\n             * The seek entry for the Cues in the SeekHead is updated.\n             */\n            function writeCues() {\n                var\n                    ebml = {\n                        \"id\": 0x1C53BB6B,\n                        \"data\": cues\n                    },\n                    \n                    cuesBuffer = new ArrayBufferDataStream(16 + cues.length * 32); // Pretty crude estimate of the buffer size we'll need\n                \n                writeEBML(cuesBuffer, blobBuffer.pos, ebml);\n                blobBuffer.write(cuesBuffer.getAsDataArray());\n                \n                // Now we know where the Cues element has ended up, we can update the SeekHead\n                seekPoints.Cues.positionEBML.data = fileOffsetToSegmentRelative(ebml.offset);\n            }\n            \n            /**\n             * Flush the frames in the current clusterFrameBuffer out to the stream as a Cluster.\n             */\n            function flushClusterFrameBuffer() {\n                if (clusterFrameBuffer.length == 0) {\n                    return;\n                }\n    \n                // First work out how large of a buffer we need to hold the cluster data\n                var\n                    rawImageSize = 0;\n                \n                for (var i = 0; i < clusterFrameBuffer.length; i++) {\n                    rawImageSize += clusterFrameBuffer[i].frame.length;\n                }\n                \n                var\n                    buffer = new ArrayBufferDataStream(rawImageSize + clusterFrameBuffer.length * 32), // Estimate 32 bytes per SimpleBlock header\n    \n                    cluster = createCluster({\n                        timecode: Math.round(clusterStartTime),\n                    });\n                    \n                for (var i = 0; i < clusterFrameBuffer.length; i++) {\n                    cluster.data.push(createKeyframeBlock(clusterFrameBuffer[i]));\n                }\n                \n                writeEBML(buffer, blobBuffer.pos, cluster);\n                blobBuffer.write(buffer.getAsDataArray());\n                \n                addCuePoint(DEFAULT_TRACK_NUMBER, Math.round(clusterStartTime), cluster.offset);\n                \n                clusterFrameBuffer = [];\n                clusterStartTime += clusterDuration;\n                clusterDuration = 0;\n            }\n            \n            function validateOptions() {\n                // Derive frameDuration setting if not already supplied\n                if (!options.frameDuration) {\n                    if (options.frameRate) {\n                        options.frameDuration = 1000 / options.frameRate;\n                    } else {\n                        throw \"Missing required frameDuration or frameRate setting\";\n                    }\n                }\n            }\n            \n            function addFrameToCluster(frame) {\n                frame.trackNumber = DEFAULT_TRACK_NUMBER;\n                \n                // Frame timecodes are relative to the start of their cluster:\n                frame.timecode = Math.round(clusterDuration);\n    \n                clusterFrameBuffer.push(frame);\n                \n                clusterDuration += frame.duration;\n                \n                if (clusterDuration >= MAX_CLUSTER_DURATION_MSEC) {\n                    flushClusterFrameBuffer();\n                }\n            }\n            \n            /**\n             * Rewrites the SeekHead element that was initially written to the stream with the offsets of top level elements.\n             *\n             * Call once writing is complete (so the offset of all top level elements is known).\n             */\n            function rewriteSeekHead() {\n                var\n                    seekHeadBuffer = new ArrayBufferDataStream(seekHead.size),\n                    oldPos = blobBuffer.pos;\n                \n                // Write the rewritten SeekHead element's data payload to the stream (don't need to update the id or size)\n                writeEBML(seekHeadBuffer, seekHead.dataOffset, seekHead.data);\n                \n                // And write that through to the file\n                blobBuffer.seek(seekHead.dataOffset);\n                blobBuffer.write(seekHeadBuffer.getAsDataArray());\n    \n                blobBuffer.seek(oldPos);\n            }\n            \n            /**\n             * Rewrite the Duration field of the Segment with the newly-discovered video duration.\n             */\n            function rewriteDuration() {\n                var\n                    buffer = new ArrayBufferDataStream(8),\n                    oldPos = blobBuffer.pos;\n                \n                // Rewrite the data payload (don't need to update the id or size)\n                buffer.writeDoubleBE(clusterStartTime);\n                \n                // And write that through to the file\n                blobBuffer.seek(segmentDuration.dataOffset);\n                blobBuffer.write(buffer.getAsDataArray());\n        \n                blobBuffer.seek(oldPos);\n            }\n            \n            /**\n             * Add a frame to the video. Currently the frame must be a Canvas element.\n             */\n            this.addFrame = function(canvas) {\n                if (writtenHeader) {\n                    if (canvas.width != videoWidth || canvas.height != videoHeight) {\n                        throw \"Frame size differs from previous frames\";\n                    }\n                } else {\n                    videoWidth = canvas.width;\n                    videoHeight = canvas.height;\n    \n                    writeHeader();\n                    writtenHeader = true;\n                }\n    \n                var\n                    webP = renderAsWebP(canvas, {quality: options.quality});\n                \n                if (!webP) {\n                    throw \"Couldn't decode WebP frame, does the browser support WebP?\";\n                }\n                \n                addFrameToCluster({\n                    frame: extractKeyframeFromWebP(webP),\n                    duration: options.frameDuration\n                });\n            };\n            \n            /**\n             * Finish writing the video and return a Promise to signal completion.\n             *\n             * If the destination device was memory (i.e. options.fileWriter was not supplied), the Promise is resolved with\n             * a Blob with the contents of the entire video.\n             */\n            this.complete = function() {\n                flushClusterFrameBuffer();\n                \n                writeCues();\n                rewriteSeekHead();\n                rewriteDuration();\n                \n                return blobBuffer.complete('video/webm');\n            };\n            \n            this.getWrittenSize = function() {\n                return blobBuffer.length;\n            };\n    \n            options = extend(optionDefaults, options || {});\n            validateOptions();\n        };\n    };\n\n    if (isNodeEnviroment) {\n\t    module.exports = WebMWriter(ArrayBufferDataStream, BlobBuffer);\n    } else {\n\t    window.WebMWriter = WebMWriter(ArrayBufferDataStream, BlobBuffer);\n    }\n})();\n", ";(function() {\r\n\r\n\"use strict\";\r\n\r\nvar isNodeEnviroment = typeof module !== 'undefined' && typeof module.exports !== 'undefined';\r\n\r\nvar Tar = isNodeEnviroment ? require('./tar') : window.Tar;\r\nvar download = isNodeEnviroment ? require('./download') : window.download;\r\nvar GIF = isNodeEnviroment ? require('./gif').GIF : window.GIF;\r\nvar WebMWriter = isNodeEnviroment ? require('./webm-writer-0.2.0') : window.WebMWriter;\r\n\r\nvar objectTypes = {\r\n'function': true,\r\n'object': true\r\n};\r\n\r\nfunction checkGlobal(value) {\r\n    return (value && value.Object === Object) ? value : null;\r\n  }\r\n\r\n/** Built-in method references without a dependency on `root`. */\r\nvar freeParseFloat = parseFloat,\r\n  freeParseInt = parseInt;\r\n\r\n/** Detect free variable `exports`. */\r\nvar freeExports = (objectTypes[typeof exports] && exports && !exports.nodeType)\r\n? exports\r\n: undefined;\r\n\r\n/** Detect free variable `module`. */\r\nvar freeModule = (objectTypes[typeof module] && module && !module.nodeType)\r\n? module\r\n: undefined;\r\n\r\n/** Detect the popular CommonJS extension `module.exports`. */\r\nvar moduleExports = (freeModule && freeModule.exports === freeExports)\r\n? freeExports\r\n: undefined;\r\n\r\n/** Detect free variable `global` from Node.js. */\r\nvar freeGlobal = checkGlobal(freeExports && freeModule && typeof global == 'object' && global);\r\n\r\n/** Detect free variable `self`. */\r\nvar freeSelf = checkGlobal(objectTypes[typeof self] && self);\r\n\r\n/** Detect free variable `window`. */\r\nvar freeWindow = checkGlobal(objectTypes[typeof window] && window);\r\n\r\n/** Detect `this` as the global object. */\r\nvar thisGlobal = checkGlobal(objectTypes[typeof this] && this);\r\n\r\n/**\r\n* Used as a reference to the global object.\r\n*\r\n* The `this` value is used if it's the global object to avoid Greasemonkey's\r\n* restricted `window` object, otherwise the `window` object is used.\r\n*/\r\nvar root = freeGlobal ||\r\n((freeWindow !== (thisGlobal && thisGlobal.window)) && freeWindow) ||\r\n  freeSelf || thisGlobal || Function('return this')();\r\n\r\nif( !('gc' in window ) ) {\r\n\twindow.gc = function(){}\r\n}\r\n\r\nif (!HTMLCanvasElement.prototype.toBlob) {\r\n Object.defineProperty(HTMLCanvasElement.prototype, 'toBlob', {\r\n  value: function (callback, type, quality) {\r\n\r\n    var binStr = atob( this.toDataURL(type, quality).split(',')[1] ),\r\n        len = binStr.length,\r\n        arr = new Uint8Array(len);\r\n\r\n    for (var i=0; i<len; i++ ) {\r\n     arr[i] = binStr.charCodeAt(i);\r\n    }\r\n\r\n    callback( new Blob( [arr], {type: type || 'image/png'} ) );\r\n  }\r\n });\r\n}\r\n\r\n// @license http://opensource.org/licenses/MIT\r\n// copyright Paul Irish 2015\r\n\r\n\r\n// Date.now() is supported everywhere except IE8. For IE8 we use the Date.now polyfill\r\n//   github.com/Financial-Times/polyfill-service/blob/master/polyfills/Date.now/polyfill.js\r\n// as Safari 6 doesn't have support for NavigationTiming, we use a Date.now() timestamp for relative values\r\n\r\n// if you want values similar to what you'd get with real perf.now, place this towards the head of the page\r\n// but in reality, you're just getting the delta between now() calls, so it's not terribly important where it's placed\r\n\r\n\r\n(function(){\r\n\r\n  if (\"performance\" in window == false) {\r\n      window.performance = {};\r\n  }\r\n\r\n  Date.now = (Date.now || function () {  // thanks IE8\r\n\t  return new Date().getTime();\r\n  });\r\n\r\n  if (\"now\" in window.performance == false){\r\n\r\n    var nowOffset = Date.now();\r\n\r\n    if (performance.timing && performance.timing.navigationStart){\r\n      nowOffset = performance.timing.navigationStart\r\n    }\r\n\r\n    window.performance.now = function now(){\r\n      return Date.now() - nowOffset;\r\n    }\r\n  }\r\n\r\n})();\r\n\r\n\r\nfunction pad( n ) {\r\n\treturn String(\"0000000\" + n).slice(-7);\r\n}\r\n// https://developer.mozilla.org/en-US/Add-ons/Code_snippets/Timers\r\n\r\nvar g_startTime = window.Date.now();\r\n\r\nfunction guid() {\r\n\tfunction s4() {\r\n\t\treturn Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\r\n\t}\r\n\treturn s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();\r\n}\r\n\r\nfunction CCFrameEncoder( settings ) {\r\n\r\n\tvar _handlers = {};\r\n\r\n\tthis.settings = settings;\r\n\r\n\tthis.on = function(event, handler) {\r\n\r\n\t\t_handlers[event] = handler;\r\n\r\n\t};\r\n\r\n\tthis.emit = function(event) {\r\n\r\n\t\tvar handler = _handlers[event];\r\n\t\tif (handler) {\r\n\r\n\t\t\thandler.apply(null, Array.prototype.slice.call(arguments, 1));\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tthis.filename = settings.name || guid();\r\n\tthis.extension = '';\r\n\tthis.mimeType = '';\r\n\r\n}\r\n\r\nCCFrameEncoder.prototype.start = function(){};\r\nCCFrameEncoder.prototype.stop = function(){};\r\nCCFrameEncoder.prototype.add = function(){};\r\nCCFrameEncoder.prototype.save = function(){};\r\nCCFrameEncoder.prototype.dispose = function(){};\r\nCCFrameEncoder.prototype.safeToProceed = function(){ return true; };\r\nCCFrameEncoder.prototype.step = function() { console.log( 'Step not set!' ) }\r\n\r\nfunction CCTarEncoder( settings ) {\r\n\r\n  CCFrameEncoder.call( this, settings );\r\n\r\n  this.extension = '.tar'\r\n  this.mimeType = 'application/x-tar'\r\n  this.fileExtension = '';\r\n  this.baseFilename = this.filename;\r\n\r\n  this.tape = null\r\n  this.count = 0;\r\n  this.part = 1;\r\n  this.frames = 0;\r\n\r\n}\r\n\r\nCCTarEncoder.prototype = Object.create( CCFrameEncoder.prototype );\r\n\r\nCCTarEncoder.prototype.start = function(){\r\n\r\n  this.dispose();\r\n\r\n};\r\n\r\nCCTarEncoder.prototype.add = function( blob ) {\r\n\r\n  var fileReader = new FileReader();\r\n  fileReader.onload = function() {\r\n    this.tape.append( pad( this.count ) + this.fileExtension, new Uint8Array( fileReader.result ) );\r\n\r\n    if( this.settings.autoSaveTime > 0 && ( this.frames / this.settings.framerate ) >= this.settings.autoSaveTime ) {\r\n      this.save( function( blob ) {\r\n        this.filename = this.baseFilename + '-part-' + pad( this.part );\r\n        download( blob, this.filename + this.extension, this.mimeType );\r\n        var count = this.count;\r\n        this.dispose();\r\n        this.count = count+1;\r\n        this.part++;\r\n        this.filename = this.baseFilename + '-part-' + pad( this.part );\r\n        this.frames = 0;\r\n        this.step();\r\n      }.bind( this ) )\r\n    } else {\r\n      this.count++;\r\n      this.frames++;\r\n      this.step();\r\n    }\r\n\r\n  }.bind( this );\r\n  fileReader.readAsArrayBuffer(blob);\r\n\r\n}\r\n\r\nCCTarEncoder.prototype.save = function( callback ) {\r\n\r\n  callback( this.tape.save() );\r\n\r\n}\r\n\r\nCCTarEncoder.prototype.dispose = function() {\r\n\r\n  this.tape = new Tar();\r\n  this.count = 0;\r\n\r\n}\r\n\r\nfunction CCPNGEncoder( settings ) {\r\n\r\n\tCCTarEncoder.call( this, settings );\r\n\r\n\tthis.type = 'image/png';\r\n\tthis.fileExtension = '.png';\r\n\r\n}\r\n\r\nCCPNGEncoder.prototype = Object.create( CCTarEncoder.prototype );\r\n\r\nCCPNGEncoder.prototype.add = function( canvas ) {\r\n\r\n\tcanvas.toBlob( function( blob ) {\r\n\t\tCCTarEncoder.prototype.add.call( this, blob );\r\n\t}.bind( this ), this.type )\r\n\r\n}\r\n\r\nfunction CCJPEGEncoder( settings ) {\r\n\r\n\tCCTarEncoder.call( this, settings );\r\n\r\n\tthis.type = 'image/jpeg';\r\n\tthis.fileExtension = '.jpg';\r\n\tthis.quality = ( settings.quality / 100 ) || .8;\r\n\r\n}\r\n\r\nCCJPEGEncoder.prototype = Object.create( CCTarEncoder.prototype );\r\n\r\nCCJPEGEncoder.prototype.add = function( canvas ) {\r\n\r\n\tcanvas.toBlob( function( blob ) {\r\n\t\tCCTarEncoder.prototype.add.call( this, blob );\r\n\t}.bind( this ), this.type, this.quality )\r\n\r\n}\r\n\r\n/*\r\n\r\n\tWebM Encoder\r\n\r\n*/\r\n\r\nfunction CCWebMEncoder( settings ) {\r\n\r\n\tvar canvas = document.createElement( 'canvas' );\r\n\tif( canvas.toDataURL( 'image/webp' ).substr(5,10) !== 'image/webp' ){\r\n\t\tconsole.log( \"WebP not supported - try another export format\" )\r\n\t}\r\n\r\n\tCCFrameEncoder.call( this, settings );\r\n\r\n\tthis.quality = ( settings.quality / 100 ) || .8;\r\n\r\n\tthis.extension = '.webm'\r\n\tthis.mimeType = 'video/webm'\r\n\tthis.baseFilename = this.filename;\r\n  this.framerate = settings.framerate;\r\n\r\n\tthis.frames = 0;\r\n\tthis.part = 1;\r\n\r\n  this.videoWriter = new WebMWriter({\r\n    quality: this.quality,\r\n    fileWriter: null,\r\n    fd: null,\r\n    frameRate: this.framerate\r\n  });\r\n\r\n}\r\n\r\nCCWebMEncoder.prototype = Object.create( CCFrameEncoder.prototype );\r\n\r\nCCWebMEncoder.prototype.start = function( canvas ) {\r\n\r\n\tthis.dispose();\r\n\r\n}\r\n\r\nCCWebMEncoder.prototype.add = function( canvas ) {\r\n\r\n  this.videoWriter.addFrame(canvas);\r\n\r\n\tif( this.settings.autoSaveTime > 0 && ( this.frames / this.settings.framerate ) >= this.settings.autoSaveTime ) {\r\n\t\tthis.save( function( blob ) {\r\n\t\t\tthis.filename = this.baseFilename + '-part-' + pad( this.part );\r\n\t\t\tdownload( blob, this.filename + this.extension, this.mimeType );\r\n\t\t\tthis.dispose();\r\n\t\t\tthis.part++;\r\n\t\t\tthis.filename = this.baseFilename + '-part-' + pad( this.part );\r\n\t\t\tthis.step();\r\n\t\t}.bind( this ) )\r\n\t} else {\r\n    this.frames++;\r\n\t\tthis.step();\r\n\t}\r\n\r\n}\r\n\r\nCCWebMEncoder.prototype.save = function( callback ) {\r\n\r\n  this.videoWriter.complete().then(callback);\r\n\r\n}\r\n\r\nCCWebMEncoder.prototype.dispose = function( canvas ) {\r\n\r\n\tthis.frames = 0;\r\n  this.videoWriter = new WebMWriter({\r\n    quality: this.quality,\r\n    fileWriter: null,\r\n    fd: null,\r\n    frameRate: this.framerate\r\n  });\r\n\r\n}\r\n\r\nfunction CCFFMpegServerEncoder( settings ) {\r\n\r\n\tCCFrameEncoder.call( this, settings );\r\n\r\n\tsettings.quality = ( settings.quality / 100 ) || .8;\r\n\r\n\tthis.encoder = new FFMpegServer.Video( settings );\r\n    this.encoder.on( 'process', function() {\r\n        this.emit( 'process' )\r\n    }.bind( this ) );\r\n    this.encoder.on('finished', function( url, size ) {\r\n        var cb = this.callback;\r\n        if ( cb ) {\r\n            this.callback = undefined;\r\n            cb( url, size );\r\n        }\r\n    }.bind( this ) );\r\n    this.encoder.on( 'progress', function( progress ) {\r\n        if ( this.settings.onProgress ) {\r\n            this.settings.onProgress( progress )\r\n        }\r\n    }.bind( this ) );\r\n    this.encoder.on( 'error', function( data ) {\r\n        alert(JSON.stringify(data, null, 2));\r\n    }.bind( this ) );\r\n\r\n}\r\n\r\nCCFFMpegServerEncoder.prototype = Object.create( CCFrameEncoder.prototype );\r\n\r\nCCFFMpegServerEncoder.prototype.start = function() {\r\n\r\n\tthis.encoder.start( this.settings );\r\n\r\n};\r\n\r\nCCFFMpegServerEncoder.prototype.add = function( canvas ) {\r\n\r\n\tthis.encoder.add( canvas );\r\n\r\n}\r\n\r\nCCFFMpegServerEncoder.prototype.save = function( callback ) {\r\n\r\n    this.callback = callback;\r\n    this.encoder.end();\r\n\r\n}\r\n\r\nCCFFMpegServerEncoder.prototype.safeToProceed = function() {\r\n    return this.encoder.safeToProceed();\r\n};\r\n\r\n/*\r\n\tHTMLCanvasElement.captureStream()\r\n*/\r\n\r\nfunction CCStreamEncoder( settings ) {\r\n\r\n\tCCFrameEncoder.call( this, settings );\r\n\r\n\tthis.framerate = this.settings.framerate;\r\n\tthis.type = 'video/webm';\r\n\tthis.extension = '.webm';\r\n\tthis.stream = null;\r\n\tthis.mediaRecorder = null;\r\n\tthis.chunks = [];\r\n\r\n}\r\n\r\nCCStreamEncoder.prototype = Object.create( CCFrameEncoder.prototype );\r\n\r\nCCStreamEncoder.prototype.add = function( canvas ) {\r\n\r\n\tif( !this.stream ) {\r\n\t\tthis.stream = canvas.captureStream( this.framerate );\r\n\t\tthis.mediaRecorder = new MediaRecorder( this.stream );\r\n\t\tthis.mediaRecorder.start();\r\n\r\n\t\tthis.mediaRecorder.ondataavailable = function(e) {\r\n\t\t\tthis.chunks.push(e.data);\r\n\t\t}.bind( this );\r\n\r\n\t}\r\n\tthis.step();\r\n\r\n}\r\n\r\nCCStreamEncoder.prototype.save = function( callback ) {\r\n\r\n\tthis.mediaRecorder.onstop = function( e ) {\r\n\t\tvar blob = new Blob( this.chunks, { 'type' : 'video/webm' });\r\n\t\tthis.chunks = [];\r\n\t\tcallback( blob );\r\n\r\n\t}.bind( this );\r\n\r\n\tthis.mediaRecorder.stop();\r\n\r\n}\r\n\r\nfunction CCGIFEncoder( settings ) {\r\n\tCCFrameEncoder.call( this, settings );\r\n\r\n\tsettings.quality = 31 - ( ( settings.quality * 30 / 100 ) || 10 );\r\n\tsettings.workers = settings.workers || 4;\r\n\r\n\tthis.extension = '.gif'\r\n\tthis.mimeType = 'image/gif'\r\n\r\n  \tthis.canvas = document.createElement( 'canvas' );\r\n  \tthis.ctx = this.canvas.getContext( '2d' );\r\n  \tthis.sizeSet = false;\r\n\r\n\tvar gifWorkerText = \"(function(b){function a(b,d){if({}.hasOwnProperty.call(a.cache,b))return a.cache[b];var e=a.resolve(b);if(!e)throw new Error('Failed to resolve module '+b);var c={id:b,require:a,filename:b,exports:{},loaded:!1,parent:d,children:[]};d&&d.children.push(c);var f=b.slice(0,b.lastIndexOf('/')+1);return a.cache[b]=c.exports,e.call(c.exports,c,c.exports,f,b),c.loaded=!0,a.cache[b]=c.exports}a.modules={},a.cache={},a.resolve=function(b){return{}.hasOwnProperty.call(a.modules,b)?a.modules[b]:void 0},a.define=function(b,c){a.modules[b]=c},a.define('/gif.worker.coffee',function(d,e,f,g){var b,c;b=a('/GIFEncoder.js',d),c=function(a){var c,e,d,f;return c=new b(a.width,a.height),a.index===0?c.writeHeader():c.firstFrame=!1,c.setTransparent(a.transparent),c.setRepeat(a.repeat),c.setDelay(a.delay),c.setQuality(a.quality),c.addFrame(a.data),a.last&&c.finish(),d=c.stream(),a.data=d.pages,a.cursor=d.cursor,a.pageSize=d.constructor.pageSize,a.canTransfer?(f=function(c){for(var b=0,d=a.data.length;b<d;++b)e=a.data[b],c.push(e.buffer);return c}.call(this,[]),self.postMessage(a,f)):self.postMessage(a)},self.onmessage=function(a){return c(a.data)}}),a.define('/GIFEncoder.js',function(e,h,i,j){function c(){this.page=-1,this.pages=[],this.newPage()}function b(a,b){this.width=~~a,this.height=~~b,this.transparent=null,this.transIndex=0,this.repeat=-1,this.delay=0,this.image=null,this.pixels=null,this.indexedPixels=null,this.colorDepth=null,this.colorTab=null,this.usedEntry=new Array,this.palSize=7,this.dispose=-1,this.firstFrame=!0,this.sample=10,this.out=new c}var f=a('/TypedNeuQuant.js',e),g=a('/LZWEncoder.js',e);c.pageSize=4096,c.charMap={};for(var d=0;d<256;d++)c.charMap[d]=String.fromCharCode(d);c.prototype.newPage=function(){this.pages[++this.page]=new Uint8Array(c.pageSize),this.cursor=0},c.prototype.getData=function(){var d='';for(var a=0;a<this.pages.length;a++)for(var b=0;b<c.pageSize;b++)d+=c.charMap[this.pages[a][b]];return d},c.prototype.writeByte=function(a){this.cursor>=c.pageSize&&this.newPage(),this.pages[this.page][this.cursor++]=a},c.prototype.writeUTFBytes=function(b){for(var c=b.length,a=0;a<c;a++)this.writeByte(b.charCodeAt(a))},c.prototype.writeBytes=function(b,d,e){for(var c=e||b.length,a=d||0;a<c;a++)this.writeByte(b[a])},b.prototype.setDelay=function(a){this.delay=Math.round(a/10)},b.prototype.setFrameRate=function(a){this.delay=Math.round(100/a)},b.prototype.setDispose=function(a){a>=0&&(this.dispose=a)},b.prototype.setRepeat=function(a){this.repeat=a},b.prototype.setTransparent=function(a){this.transparent=a},b.prototype.addFrame=function(a){this.image=a,this.getImagePixels(),this.analyzePixels(),this.firstFrame&&(this.writeLSD(),this.writePalette(),this.repeat>=0&&this.writeNetscapeExt()),this.writeGraphicCtrlExt(),this.writeImageDesc(),this.firstFrame||this.writePalette(),this.writePixels(),this.firstFrame=!1},b.prototype.finish=function(){this.out.writeByte(59)},b.prototype.setQuality=function(a){a<1&&(a=1),this.sample=a},b.prototype.writeHeader=function(){this.out.writeUTFBytes('GIF89a')},b.prototype.analyzePixels=function(){var g=this.pixels.length,d=g/3;this.indexedPixels=new Uint8Array(d);var a=new f(this.pixels,this.sample);a.buildColormap(),this.colorTab=a.getColormap();var b=0;for(var c=0;c<d;c++){var e=a.lookupRGB(this.pixels[b++]&255,this.pixels[b++]&255,this.pixels[b++]&255);this.usedEntry[e]=!0,this.indexedPixels[c]=e}this.pixels=null,this.colorDepth=8,this.palSize=7,this.transparent!==null&&(this.transIndex=this.findClosest(this.transparent))},b.prototype.findClosest=function(e){if(this.colorTab===null)return-1;var k=(e&16711680)>>16,l=(e&65280)>>8,m=e&255,c=0,d=16777216,j=this.colorTab.length;for(var a=0;a<j;){var f=k-(this.colorTab[a++]&255),g=l-(this.colorTab[a++]&255),h=m-(this.colorTab[a]&255),i=f*f+g*g+h*h,b=parseInt(a/3);this.usedEntry[b]&&i<d&&(d=i,c=b),a++}return c},b.prototype.getImagePixels=function(){var a=this.width,g=this.height;this.pixels=new Uint8Array(a*g*3);var b=this.image,c=0;for(var d=0;d<g;d++)for(var e=0;e<a;e++){var f=d*a*4+e*4;this.pixels[c++]=b[f],this.pixels[c++]=b[f+1],this.pixels[c++]=b[f+2]}},b.prototype.writeGraphicCtrlExt=function(){this.out.writeByte(33),this.out.writeByte(249),this.out.writeByte(4);var b,a;this.transparent===null?(b=0,a=0):(b=1,a=2),this.dispose>=0&&(a=dispose&7),a<<=2,this.out.writeByte(0|a|0|b),this.writeShort(this.delay),this.out.writeByte(this.transIndex),this.out.writeByte(0)},b.prototype.writeImageDesc=function(){this.out.writeByte(44),this.writeShort(0),this.writeShort(0),this.writeShort(this.width),this.writeShort(this.height),this.firstFrame?this.out.writeByte(0):this.out.writeByte(128|this.palSize)},b.prototype.writeLSD=function(){this.writeShort(this.width),this.writeShort(this.height),this.out.writeByte(240|this.palSize),this.out.writeByte(0),this.out.writeByte(0)},b.prototype.writeNetscapeExt=function(){this.out.writeByte(33),this.out.writeByte(255),this.out.writeByte(11),this.out.writeUTFBytes('NETSCAPE2.0'),this.out.writeByte(3),this.out.writeByte(1),this.writeShort(this.repeat),this.out.writeByte(0)},b.prototype.writePalette=function(){this.out.writeBytes(this.colorTab);var b=768-this.colorTab.length;for(var a=0;a<b;a++)this.out.writeByte(0)},b.prototype.writeShort=function(a){this.out.writeByte(a&255),this.out.writeByte(a>>8&255)},b.prototype.writePixels=function(){var a=new g(this.width,this.height,this.indexedPixels,this.colorDepth);a.encode(this.out)},b.prototype.stream=function(){return this.out},e.exports=b}),a.define('/LZWEncoder.js',function(e,g,h,i){function f(y,D,C,B){function w(a,b){r[f++]=a,f>=254&&t(b)}function x(b){u(a),k=i+2,j=!0,l(i,b)}function u(b){for(var a=0;a<b;++a)h[a]=-1}function A(z,r){var g,t,d,e,y,w,s;for(q=z,j=!1,n_bits=q,m=p(n_bits),i=1<<z-1,o=i+1,k=i+2,f=0,e=v(),s=0,g=a;g<65536;g*=2)++s;s=8-s,w=a,u(w),l(i,r);a:while((t=v())!=c){if(g=(t<<b)+e,d=t<<s^e,h[d]===g){e=n[d];continue}if(h[d]>=0){y=w-d,d===0&&(y=1);do if((d-=y)<0&&(d+=w),h[d]===g){e=n[d];continue a}while(h[d]>=0)}l(e,r),e=t,k<1<<b?(n[d]=k++,h[d]=g):x(r)}l(e,r),l(o,r)}function z(a){a.writeByte(s),remaining=y*D,curPixel=0,A(s+1,a),a.writeByte(0)}function t(a){f>0&&(a.writeByte(f),a.writeBytes(r,0,f),f=0)}function p(a){return(1<<a)-1}function v(){if(remaining===0)return c;--remaining;var a=C[curPixel++];return a&255}function l(a,c){g&=d[e],e>0?g|=a<<e:g=a,e+=n_bits;while(e>=8)w(g&255,c),g>>=8,e-=8;if((k>m||j)&&(j?(m=p(n_bits=q),j=!1):(++n_bits,n_bits==b?m=1<<b:m=p(n_bits))),a==o){while(e>0)w(g&255,c),g>>=8,e-=8;t(c)}}var s=Math.max(2,B),r=new Uint8Array(256),h=new Int32Array(a),n=new Int32Array(a),g,e=0,f,k=0,m,j=!1,q,i,o;this.encode=z}var c=-1,b=12,a=5003,d=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535];e.exports=f}),a.define('/TypedNeuQuant.js',function(A,F,E,D){function C(A,B){function I(){o=[],q=new Int32Array(256),t=new Int32Array(a),y=new Int32Array(a),z=new Int32Array(a>>3);var c,d;for(c=0;c<a;c++)d=(c<<b+8)/a,o[c]=new Float64Array([d,d,d,0]),y[c]=e/a,t[c]=0}function J(){for(var c=0;c<a;c++)o[c][0]>>=b,o[c][1]>>=b,o[c][2]>>=b,o[c][3]=c}function K(b,a,c,e,f){o[a][0]-=b*(o[a][0]-c)/d,o[a][1]-=b*(o[a][1]-e)/d,o[a][2]-=b*(o[a][2]-f)/d}function L(j,e,n,l,k){var h=Math.abs(e-j),i=Math.min(e+j,a),g=e+1,f=e-1,m=1,b,d;while(g<i||f>h)d=z[m++],g<i&&(b=o[g++],b[0]-=d*(b[0]-n)/c,b[1]-=d*(b[1]-l)/c,b[2]-=d*(b[2]-k)/c),f>h&&(b=o[f--],b[0]-=d*(b[0]-n)/c,b[1]-=d*(b[1]-l)/c,b[2]-=d*(b[2]-k)/c)}function C(p,s,q){var h=2147483647,k=h,d=-1,m=d,c,j,e,n,l;for(c=0;c<a;c++)j=o[c],e=Math.abs(j[0]-p)+Math.abs(j[1]-s)+Math.abs(j[2]-q),e<h&&(h=e,d=c),n=e-(t[c]>>i-b),n<k&&(k=n,m=c),l=y[c]>>g,y[c]-=l,t[c]+=l<<f;return y[d]+=x,t[d]-=r,m}function D(){var d,b,e,c,h,g,f=0,i=0;for(d=0;d<a;d++){for(e=o[d],h=d,g=e[1],b=d+1;b<a;b++)c=o[b],c[1]<g&&(h=b,g=c[1]);if(c=o[h],d!=h&&(b=c[0],c[0]=e[0],e[0]=b,b=c[1],c[1]=e[1],e[1]=b,b=c[2],c[2]=e[2],e[2]=b,b=c[3],c[3]=e[3],e[3]=b),g!=f){for(q[f]=i+d>>1,b=f+1;b<g;b++)q[b]=d;f=g,i=d}}for(q[f]=i+n>>1,b=f+1;b<256;b++)q[b]=n}function E(j,i,k){var b,d,c,e=1e3,h=-1,f=q[i],g=f-1;while(f<a||g>=0)f<a&&(d=o[f],c=d[1]-i,c>=e?f=a:(f++,c<0&&(c=-c),b=d[0]-j,b<0&&(b=-b),c+=b,c<e&&(b=d[2]-k,b<0&&(b=-b),c+=b,c<e&&(e=c,h=d[3])))),g>=0&&(d=o[g],c=i-d[1],c>=e?g=-1:(g--,c<0&&(c=-c),b=d[0]-j,b<0&&(b=-b),c+=b,c<e&&(b=d[2]-k,b<0&&(b=-b),c+=b,c<e&&(e=c,h=d[3]))));return h}function F(){var c,f=A.length,D=30+(B-1)/3,y=f/(3*B),q=~~(y/w),n=d,o=u,a=o>>h;for(a<=1&&(a=0),c=0;c<a;c++)z[c]=n*((a*a-c*c)*m/(a*a));var i;f<s?(B=1,i=3):f%l!==0?i=3*l:f%k!==0?i=3*k:f%p!==0?i=3*p:i=3*j;var r,t,x,e,g=0;c=0;while(c<y)if(r=(A[g]&255)<<b,t=(A[g+1]&255)<<b,x=(A[g+2]&255)<<b,e=C(r,t,x),K(n,e,r,t,x),a!==0&&L(a,e,r,t,x),g+=i,g>=f&&(g-=f),c++,q===0&&(q=1),c%q===0)for(n-=n/D,o-=o/v,a=o>>h,a<=1&&(a=0),e=0;e<a;e++)z[e]=n*((a*a-e*e)*m/(a*a))}function G(){I(),F(),J(),D()}function H(){var b=[],g=[];for(var c=0;c<a;c++)g[o[c][3]]=c;var d=0;for(var e=0;e<a;e++){var f=g[e];b[d++]=o[f][0],b[d++]=o[f][1],b[d++]=o[f][2]}return b}var o,q,t,y,z;this.buildColormap=G,this.getColormap=H,this.lookupRGB=E}var w=100,a=256,n=a-1,b=4,i=16,e=1<<i,f=10,B=1<<f,g=10,x=e>>g,r=e<<f-g,z=a>>3,h=6,t=1<<h,u=z*t,v=30,o=10,d=1<<o,q=8,m=1<<q,y=o+q,c=1<<y,l=499,k=491,p=487,j=503,s=3*j;A.exports=C}),a('/gif.worker.coffee')}.call(this,this))\"\r\n\tvar workerBlob = new Blob([gifWorkerText], {\r\n\t\ttype: 'application/javascript'\r\n\t\t})\r\n\tvar workerScript = URL.createObjectURL(workerBlob)\r\n\r\n  \tthis.encoder = new GIF({\r\n\t\tworkers: settings.workers,\r\n\t\tquality: settings.quality,\r\n\t\tworkerScript: workerScript\r\n\t} );\r\n\r\n    this.encoder.on( 'progress', function( progress ) {\r\n        if ( this.settings.onProgress ) {\r\n            this.settings.onProgress( progress )\r\n        }\r\n    }.bind( this ) );\r\n\r\n    this.encoder.on('finished', function( blob ) {\r\n        var cb = this.callback;\r\n        if ( cb ) {\r\n            this.callback = undefined;\r\n            cb( blob );\r\n        }\r\n    }.bind( this ) );\r\n}\r\n\r\nCCGIFEncoder.prototype = Object.create( CCFrameEncoder.prototype );\r\n\r\nCCGIFEncoder.prototype.add = function( canvas ) {\r\n\r\n\tif( !this.sizeSet ) {\r\n\t\tthis.encoder.setOption( 'width',canvas.width );\r\n\t\tthis.encoder.setOption( 'height',canvas.height );\r\n\t\tthis.sizeSet = true;\r\n\t}\r\n\r\n\tthis.canvas.width = canvas.width;\r\n\tthis.canvas.height = canvas.height;\r\n\tthis.ctx.drawImage( canvas, 0, 0 );\r\n\r\n\tthis.encoder.addFrame( this.ctx, { copy: true, delay: this.settings.step } );\r\n\tthis.step();\r\n\r\n\t/*this.encoder.setSize( canvas.width, canvas.height );\r\n\tvar readBuffer = new Uint8Array(canvas.width * canvas.height * 4);\r\n\tvar context = canvas.getContext( 'webgl' );\r\n\tcontext.readPixels(0, 0, canvas.width, canvas.height, context.RGBA, context.UNSIGNED_BYTE, readBuffer);\r\n\tthis.encoder.addFrame( readBuffer, true );*/\r\n\r\n}\r\n\r\nCCGIFEncoder.prototype.save = function( callback ) {\r\n\r\n    this.callback = callback;\r\n\r\n\tthis.encoder.render();\r\n\r\n}\r\n\r\nfunction CCapture( settings ) {\r\n\r\n\tvar _settings = settings || {},\r\n\t\t_date = new Date(),\r\n\t\t_verbose,\r\n\t\t_display,\r\n\t\t_time,\r\n\t\t_startTime,\r\n\t\t_performanceTime,\r\n\t\t_performanceStartTime,\r\n\t\t_step,\r\n        _encoder,\r\n\t\t_timeouts = [],\r\n\t\t_intervals = [],\r\n\t\t_frameCount = 0,\r\n\t\t_intermediateFrameCount = 0,\r\n\t\t_lastFrame = null,\r\n\t\t_requestAnimationFrameCallbacks = [],\r\n\t\t_capturing = false,\r\n        _handlers = {};\r\n\r\n\t_settings.framerate = _settings.framerate || 60;\r\n\t_settings.motionBlurFrames = 2 * ( _settings.motionBlurFrames || 1 );\r\n\t_verbose = _settings.verbose || false;\r\n\t_display = _settings.display || false;\r\n\t_settings.step = 1000.0 / _settings.framerate ;\r\n\t_settings.timeLimit = _settings.timeLimit || 0;\r\n\t_settings.frameLimit = _settings.frameLimit || 0;\r\n\t_settings.startTime = _settings.startTime || 0;\r\n\r\n\tvar _timeDisplay = document.createElement( 'div' );\r\n\t_timeDisplay.style.position = 'absolute';\r\n\t_timeDisplay.style.left = _timeDisplay.style.top = 0\r\n\t_timeDisplay.style.backgroundColor = 'black';\r\n\t_timeDisplay.style.fontFamily = 'monospace'\r\n\t_timeDisplay.style.fontSize = '11px'\r\n\t_timeDisplay.style.padding = '5px'\r\n\t_timeDisplay.style.color = 'red';\r\n\t_timeDisplay.style.zIndex = 100000\r\n\tif( _settings.display ) document.body.appendChild( _timeDisplay );\r\n\r\n\tvar canvasMotionBlur = document.createElement( 'canvas' );\r\n\tvar ctxMotionBlur = canvasMotionBlur.getContext( '2d' );\r\n\tvar bufferMotionBlur;\r\n\tvar imageData;\r\n\r\n\t_log( 'Step is set to ' + _settings.step + 'ms' );\r\n\r\n    var _encoders = {\r\n\t\tgif: CCGIFEncoder,\r\n\t\twebm: CCWebMEncoder,\r\n\t\tffmpegserver: CCFFMpegServerEncoder,\r\n\t\tpng: CCPNGEncoder,\r\n\t\tjpg: CCJPEGEncoder,\r\n\t\t'webm-mediarecorder': CCStreamEncoder\r\n    };\r\n\r\n    var ctor = _encoders[ _settings.format ];\r\n    if ( !ctor ) {\r\n\t\tthrow \"Error: Incorrect or missing format: Valid formats are \" + Object.keys(_encoders).join(\", \");\r\n    }\r\n    _encoder = new ctor( _settings );\r\n    _encoder.step = _step\r\n\r\n\t_encoder.on('process', _process);\r\n    _encoder.on('progress', _progress);\r\n\r\n    if (\"performance\" in window == false) {\r\n    \twindow.performance = {};\r\n    }\r\n\r\n\tDate.now = (Date.now || function () {  // thanks IE8\r\n\t\treturn new Date().getTime();\r\n\t});\r\n\r\n\tif (\"now\" in window.performance == false){\r\n\r\n\t\tvar nowOffset = Date.now();\r\n\r\n\t\tif (performance.timing && performance.timing.navigationStart){\r\n\t\t\tnowOffset = performance.timing.navigationStart\r\n\t\t}\r\n\r\n\t\twindow.performance.now = function now(){\r\n\t\t\treturn Date.now() - nowOffset;\r\n\t\t}\r\n\t}\r\n\r\n\tvar _oldSetTimeout = window.setTimeout,\r\n\t\t_oldSetInterval = window.setInterval,\r\n\t    \t_oldClearInterval = window.clearInterval,\r\n\t\t_oldClearTimeout = window.clearTimeout,\r\n\t\t_oldRequestAnimationFrame = window.requestAnimationFrame,\r\n\t\t_oldNow = window.Date.now,\r\n\t\t_oldPerformanceNow = window.performance.now,\r\n\t\t_oldGetTime = window.Date.prototype.getTime;\r\n\t// Date.prototype._oldGetTime = Date.prototype.getTime;\r\n\r\n\tvar media = [];\r\n\r\n\tfunction _init() {\r\n\r\n\t\t_log( 'Capturer start' );\r\n\r\n\t\t_startTime = window.Date.now();\r\n\t\t_time = _startTime + _settings.startTime;\r\n\t\t_performanceStartTime = window.performance.now();\r\n\t\t_performanceTime = _performanceStartTime + _settings.startTime;\r\n\r\n\t\twindow.Date.prototype.getTime = function(){\r\n\t\t\treturn _time;\r\n\t\t};\r\n\t\twindow.Date.now = function() {\r\n\t\t\treturn _time;\r\n\t\t};\r\n\r\n\t\twindow.setTimeout = function( callback, time ) {\r\n\t\t\tvar t = {\r\n\t\t\t\tcallback: callback,\r\n\t\t\t\ttime: time,\r\n\t\t\t\ttriggerTime: _time + time\r\n\t\t\t};\r\n\t\t\t_timeouts.push( t );\r\n\t\t\t_log( 'Timeout set to ' + t.time );\r\n            return t;\r\n\t\t};\r\n\t\twindow.clearTimeout = function( id ) {\r\n\t\t\tfor( var j = 0; j < _timeouts.length; j++ ) {\r\n\t\t\t\tif( _timeouts[ j ] == id ) {\r\n\t\t\t\t\t_timeouts.splice( j, 1 );\r\n\t\t\t\t\t_log( 'Timeout cleared' );\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t\twindow.setInterval = function( callback, time ) {\r\n\t\t\tvar t = {\r\n\t\t\t\tcallback: callback,\r\n\t\t\t\ttime: time,\r\n\t\t\t\ttriggerTime: _time + time\r\n\t\t\t};\r\n\t\t\t_intervals.push( t );\r\n\t\t\t_log( 'Interval set to ' + t.time );\r\n\t\t\treturn t;\r\n\t\t};\r\n\t\twindow.clearInterval = function( id ) {\r\n\t\t\t_log( 'clear Interval' );\r\n\t\t\treturn null;\r\n\t\t};\r\n\t\twindow.requestAnimationFrame = function( callback ) {\r\n\t\t\t_requestAnimationFrameCallbacks.push( callback );\r\n\t\t};\r\n\t\twindow.performance.now = function(){\r\n\t\t\treturn _performanceTime;\r\n\t\t};\r\n\r\n\t\tfunction hookCurrentTime() { \r\n\t\t\tif( !this._hooked ) {\r\n\t\t\t\tthis._hooked = true;\r\n\t\t\t\tthis._hookedTime = this.currentTime || 0;\r\n\t\t\t\tthis.pause();\r\n\t\t\t\tmedia.push( this );\r\n\t\t\t}\r\n\t\t\treturn this._hookedTime + _settings.startTime;\r\n\t\t};\r\n\r\n\t\ttry {\r\n\t\t\tObject.defineProperty( HTMLVideoElement.prototype, 'currentTime', { get: hookCurrentTime } )\r\n\t\t\tObject.defineProperty( HTMLAudioElement.prototype, 'currentTime', { get: hookCurrentTime } )\r\n\t\t} catch (err) {\r\n\t\t\t_log(err);\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction _start() {\r\n\t\t_init();\r\n\t\t_encoder.start();\r\n\t\t_capturing = true;\r\n\t}\r\n\r\n\tfunction _stop() {\r\n\t\t_capturing = false;\r\n\t\t_encoder.stop();\r\n\t\t_destroy();\r\n\t}\r\n\r\n\tfunction _call( fn, p ) {\r\n\t\t_oldSetTimeout( fn, 0, p );\r\n\t}\r\n\r\n\tfunction _step() {\r\n\t\t//_oldRequestAnimationFrame( _process );\r\n\t\t_call( _process );\r\n\t}\r\n\r\n\tfunction _destroy() {\r\n\t\t_log( 'Capturer stop' );\r\n\t\twindow.setTimeout = _oldSetTimeout;\r\n\t\twindow.setInterval = _oldSetInterval;\r\n\t\twindow.clearInterval = _oldClearInterval;\r\n\t\twindow.clearTimeout = _oldClearTimeout;\r\n\t\twindow.requestAnimationFrame = _oldRequestAnimationFrame;\r\n\t\twindow.Date.prototype.getTime = _oldGetTime;\r\n\t\twindow.Date.now = _oldNow;\r\n\t\twindow.performance.now = _oldPerformanceNow;\r\n\t}\r\n\r\n\tfunction _updateTime() {\r\n\t\tvar seconds = _frameCount / _settings.framerate;\r\n\t\tif( ( _settings.frameLimit && _frameCount >= _settings.frameLimit ) || ( _settings.timeLimit && seconds >= _settings.timeLimit ) ) {\r\n\t\t\t_stop();\r\n\t\t\t_save();\r\n\t\t}\r\n\t\tvar d = new Date( null );\r\n\t\td.setSeconds( seconds );\r\n\t\tif( _settings.motionBlurFrames > 2 ) {\r\n\t\t\t_timeDisplay.textContent = 'CCapture ' + _settings.format + ' | ' + _frameCount + ' frames (' + _intermediateFrameCount + ' inter) | ' +  d.toISOString().substr( 11, 8 );\r\n\t\t} else {\r\n\t\t\t_timeDisplay.textContent = 'CCapture ' + _settings.format + ' | ' + _frameCount + ' frames | ' +  d.toISOString().substr( 11, 8 );\r\n\t\t}\r\n\t}\r\n\r\n\tfunction _checkFrame( canvas ) {\r\n\r\n\t\tif( canvasMotionBlur.width !== canvas.width || canvasMotionBlur.height !== canvas.height ) {\r\n\t\t\tcanvasMotionBlur.width = canvas.width;\r\n\t\t\tcanvasMotionBlur.height = canvas.height;\r\n\t\t\tbufferMotionBlur = new Uint16Array( canvasMotionBlur.height * canvasMotionBlur.width * 4 );\r\n\t\t\tctxMotionBlur.fillStyle = '#0'\r\n\t\t\tctxMotionBlur.fillRect( 0, 0, canvasMotionBlur.width, canvasMotionBlur.height );\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction _blendFrame( canvas ) {\r\n\r\n\t\t//_log( 'Intermediate Frame: ' + _intermediateFrameCount );\r\n\r\n\t\tctxMotionBlur.drawImage( canvas, 0, 0 );\r\n\t\timageData = ctxMotionBlur.getImageData( 0, 0, canvasMotionBlur.width, canvasMotionBlur.height );\r\n\t\tfor( var j = 0; j < bufferMotionBlur.length; j+= 4 ) {\r\n\t\t\tbufferMotionBlur[ j ] += imageData.data[ j ];\r\n\t\t\tbufferMotionBlur[ j + 1 ] += imageData.data[ j + 1 ];\r\n\t\t\tbufferMotionBlur[ j + 2 ] += imageData.data[ j + 2 ];\r\n\t\t}\r\n\t\t_intermediateFrameCount++;\r\n\r\n\t}\r\n\r\n\tfunction _saveFrame(){\r\n\r\n\t\tvar data = imageData.data;\r\n\t\tfor( var j = 0; j < bufferMotionBlur.length; j+= 4 ) {\r\n\t\t\tdata[ j ] = bufferMotionBlur[ j ] * 2 / _settings.motionBlurFrames;\r\n\t\t\tdata[ j + 1 ] = bufferMotionBlur[ j + 1 ] * 2 / _settings.motionBlurFrames;\r\n\t\t\tdata[ j + 2 ] = bufferMotionBlur[ j + 2 ] * 2 / _settings.motionBlurFrames;\r\n\t\t}\r\n\t\tctxMotionBlur.putImageData( imageData, 0, 0 );\r\n\t\t_encoder.add( canvasMotionBlur );\r\n\t\t_frameCount++;\r\n\t\t_intermediateFrameCount = 0;\r\n\t\t_log( 'Full MB Frame! ' + _frameCount + ' ' +  _time );\r\n\t\tfor( var j = 0; j < bufferMotionBlur.length; j+= 4 ) {\r\n\t\t\tbufferMotionBlur[ j ] = 0;\r\n\t\t\tbufferMotionBlur[ j + 1 ] = 0;\r\n\t\t\tbufferMotionBlur[ j + 2 ] = 0;\r\n\t\t}\r\n\t\tgc();\r\n\r\n\t}\r\n\r\n\tfunction _capture( canvas ) {\r\n\r\n\t\tif( _capturing ) {\r\n\r\n\t\t\tif( _settings.motionBlurFrames > 2 ) {\r\n\r\n\t\t\t\t_checkFrame( canvas );\r\n\t\t\t\t_blendFrame( canvas );\r\n\r\n\t\t\t\tif( _intermediateFrameCount >= .5 * _settings.motionBlurFrames ) {\r\n\t\t\t\t\t_saveFrame();\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_step();\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\t\t\t\t_encoder.add( canvas );\r\n\t\t\t\t_frameCount++;\r\n\t\t\t\t_log( 'Full Frame! ' + _frameCount );\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction _process() {\r\n\r\n\t\tvar step = 1000 / _settings.framerate;\r\n\t\tvar dt = ( _frameCount + _intermediateFrameCount / _settings.motionBlurFrames ) * step;\r\n\r\n\t\t_time = _startTime + dt;\r\n\t\t_performanceTime = _performanceStartTime + dt;\r\n\r\n\t\tmedia.forEach( function( v ) {\r\n\t\t\tv._hookedTime = dt / 1000;\r\n\t\t} );\r\n\r\n\t\t_updateTime();\r\n\t\t_log( 'Frame: ' + _frameCount + ' ' + _intermediateFrameCount );\r\n\r\n\t\tfor( var j = 0; j < _timeouts.length; j++ ) {\r\n\t\t\tif( _time >= _timeouts[ j ].triggerTime ) {\r\n\t\t\t\t_call( _timeouts[ j ].callback )\r\n\t\t\t\t//console.log( 'timeout!' );\r\n\t\t\t\t_timeouts.splice( j, 1 );\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfor( var j = 0; j < _intervals.length; j++ ) {\r\n\t\t\tif( _time >= _intervals[ j ].triggerTime ) {\r\n\t\t\t\t_call( _intervals[ j ].callback );\r\n\t\t\t\t_intervals[ j ].triggerTime += _intervals[ j ].time;\r\n\t\t\t\t//console.log( 'interval!' );\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t_requestAnimationFrameCallbacks.forEach( function( cb ) {\r\n     \t\t_call( cb, _time - g_startTime );\r\n        } );\r\n        _requestAnimationFrameCallbacks = [];\r\n\r\n\t}\r\n\r\n\tfunction _save( callback ) {\r\n\r\n\t\tif( !callback ) {\r\n\t\t\tcallback = function( blob ) {\r\n\t\t\t\tdownload( blob, _encoder.filename + _encoder.extension, _encoder.mimeType );\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\t_encoder.save( callback );\r\n\r\n\t}\r\n\r\n\tfunction _log( message ) {\r\n\t\tif( _verbose ) console.log( message );\r\n\t}\r\n\r\n    function _on( event, handler ) {\r\n\r\n        _handlers[event] = handler;\r\n\r\n    }\r\n\r\n    function _emit( event ) {\r\n\r\n        var handler = _handlers[event];\r\n        if ( handler ) {\r\n\r\n            handler.apply( null, Array.prototype.slice.call( arguments, 1 ) );\r\n\r\n        }\r\n\r\n    }\r\n\r\n    function _progress( progress ) {\r\n\r\n        _emit( 'progress', progress );\r\n\r\n    }\r\n\r\n\treturn {\r\n\t\tstart: _start,\r\n\t\tcapture: _capture,\r\n\t\tstop: _stop,\r\n\t\tsave: _save,\r\n        on: _on\r\n\t}\r\n}\r\n\r\n(freeWindow || freeSelf || {}).CCapture = CCapture;\r\n\r\n  // Some AMD build optimizers like r.js check for condition patterns like the following:\r\n  if (typeof define == 'function' && typeof define.amd == 'object' && define.amd) {\r\n    // Define as an anonymous module so, through path mapping, it can be\r\n    // referenced as the \"underscore\" module.\r\n    define(function() {\r\n    \treturn CCapture;\r\n    });\r\n}\r\n  // Check for `exports` after `define` in case a build optimizer adds an `exports` object.\r\n  else if (freeExports && freeModule) {\r\n    // Export for Node.js.\r\n    if (moduleExports) {\r\n    \t(freeModule.exports = CCapture).CCapture = CCapture;\r\n    }\r\n    // Export for CommonJS support.\r\n    freeExports.CCapture = CCapture;\r\n}\r\nelse {\r\n    // Export to the global object.\r\n    root.CCapture = CCapture;\r\n}\r\n\r\n}());\r\n"],
  "mappings": "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",
  "names": ["self", "mx", "i", "url", "b", "c", "a", "d", "e", "k", "m", "h", "f", "j", "g", "l", "i", "buffer", "ArrayBufferDataStream", "BlobBuffer", "blob"]
}
